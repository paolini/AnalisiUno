\begin{comment}
\section{spazi topologici}

\begin{definition}[spazio topologico]
Sia $X$ un insieme e sia $\tau\subset \P(X)$ una famiglia di sottoinsiemi di $X$.
Diremo che $X$ è uno \emph{spazio topologico}%
\mymargin{spazio topologico}\index{spazio topologico}, che $\tau$ è una
\emph{topologia}%
\mymargin{topologia}\index{topologia} e che gli elementi di $\tau$ sono \emph{aperti}%
\mymargin{aperti}\index{aperti}
se:
\begin{enumerate}
\item $\emptyset \in \tau$, $X\in \tau$ (il vuoto e l'intero spazio sono aperti);
\item $A \subset \tau \implies \bigcup A \in \tau$ (unione qualunque di aperti è aperta);
\item $A,B\in \tau \implies A \cap B \in \tau$ (intersezione finita di aperti è aperta).
\end{enumerate}
Diremo inoltre che lo spazio topologico è \emph{separato}%
\mymargin{separato}\index{separato} (o $T_2$ o di Hausdorff)
\index{spazio topologico!separato}
\index{spazio topologico!$T_2$}
\index{spazio topologico!di Hausdorff}
\index{$T_2$}
\index{separato}
se inoltre vale
\begin{enumerate}
\item[4.] dati $x,y\in X$ con $x\neq y$ esistono $U,V\in \tau$ con $x\in U$,
$y\in V$ e $U\cap V=\emptyset$.
\end{enumerate}

Diremo che un sottoinsieme $A\subset X$ è \emph{chiuso}%
\mymargin{chiuso}\index{chiuso} se il complementare
è aperto ($X\setminus A\in \tau$).
Diremo che $A\subset X$ è un \emph{intorno}%
\mymargin{intorno}\index{intorno} del punto $a\in X$ se esiste $U\in \tau$
tale che $x\in U \subset A$.

Tutte le proprietà date nella definizione~\ref{def:466342} possono quindi essere
date in uno spazio topologico utilizzando gli intorni (o gli aperti) al posto
delle palle.
\end{definition}

\begin{theorem}[topologia indotta dalla metrica]
Sia $X$ uno spazio metrico e sia $\tau$ l'insieme di tutti gli aperti
di $X$ ovvero:
\[
 \tau = \ENCLOSE{A \subset X\colon \forall a \in A \exists \rho>0 \colon B_\rho(a)\subset A}.
\]
Allora $\tau$ è una topologia e $X$ è uno spazio topologico separato rispetto alla topologia
$\tau$.
\end{theorem}

\begin{definition}[base di intorni]
Sia $X$ un insieme e per ogni $x\in X$ sia data $\B_x\subset \P(X)$
una famiglia di sottoinsiemi di $X$. Diremo che $\B_x$ è una
\emph{base di intorni}%
\mymargin{base di intorni}\index{base di intorni} di $x$ se valgono le seguenti proprietà:
\begin{enumerate}
\item $\B_x$ è non vuoto;
\item se $B\in \B_x$ allora $x \in B$;
\item se $A,B\in \B_x$ allora esiste $C\in \B_x$ tale che $C\subset A\cap B$;

\item Se un insieme contiene un intorno di un punto anch'esso è un intorno di quel punto.
\item L'intersezione di due intorni di un punto è un intorno del punto.
\end{enumerate}

Se per ogni $x\in X$ l'insieme $\B_x$ è una base di intorni di $x$ potremo
definire
\[
  \tau = \ENCLOSE{A \subset X\colon \forall x\in A \exists B \in \B_x \colon B\subset A}
\]
e risulta che $\tau$ è una topologia e quindi $X$ è uno spazio topologico
rispetto a tale topologia (indotta dalla base di intorni).

Se inoltre vale anche la seguente proprietà:
\begin{enumerate}
\item dati $x,y\in X$, $x\neq y$, esistono $B\in \B_x$ e $C\in \B_y$ tali che
$B\cap C=\emptyset$;
\end{enumerate}
allora $X$ sarà uno spazio topologico separato.
\end{definition}
%


Le proprietà seguenti sono conseguenza degli assiomi precedenti e sono quindi valide in ogni spazio topologico.

\begin{enumerate}
\item
La parte interna di un qualunque $A\subset X$ è il più grande (ovvero l'unione di ogni) aperto contenuto in $A$. La chiusura di $A$ è il più piccolo (ovvero l'intersezione di ogni) chiuso contenente $A$.
In particolare la parte interna è sempre aperta e la parte interna di un aperto è tutto l'insieme. La chiusura è un insieme chiuso e la chiusura di un chiuso è l'insieme stesso.
\item
La frontiera di un insieme è chiusa. Parte interna, frontiera e parte esterna sono tre insiemi disgiunti (rispettivamente aperto, chiuso e aperto) la cui unione è tutto lo spazio.
\end{enumerate}

\begin{theorem}
Se $X$ è uno spazio metrico la famiglia di insiemi
\[
  \tau = \ENCLOSE{A \subset X \colon \forall a \in A \exists \rho>0 \colon B_\rho(x) \subset A}
\]
risulta essere una topologia su $X$ che si chiama \emph{topologia indotta}
dalla metrica di $X$.
\end{theorem}
%
\begin{proof}
L'insieme vuoto è aperto in quanto non ci sono punti su cui è necessario verificare la proprietà che definisce gli aperti. Anche l'intero spazio è aperto in quanto ogni palla è contenuta in esso. Dunque $\emptyset, X$ sono aperti e di conseguenzi i rispettivi complementari: $X, \emptyset$ sono chiusi.

Che l'unione qualunque di aperti sia aperta è ovvio: preso un punto dell'unione tale punto è contenuto in uno degli aperti. Dunque c'è una palletta centrata nel punto e contenuta nell'aperto. Ma allora essa è anche contenuta nell'unione.
Che l'intersezione di chiusi sia un chiuso si ottiene passando ai complementari: il complementare di un chiuso è un aperto e il complementare dell'intersezione è l'unione dei complementari.

L'intersezione qualunque di chiusi è uguale al complementare (rispetto ad $X$) dell'unione dei complementari. Per definizione il complementare di un chiuso è aperta e dunque l'unione dei complementari è aperta. Dunque il suo complementare è un chiuso.

Consideriamo ora l'intersezione $A\cap B$ di due aperti $A$ e $B$. Se $x$ è un punto dell'intersezione sappiamo che esistono due palle $B_r(x)$ e $B_s(x)$ tali che $B_r(x)\subset A$ e $B_s(x) \subset B$. La più piccola delle due è contenuta in $A\cap B$ e questo dimostra che $A\cap B$ è aperto. Passando ai complementari si ottiene che l'unione di due chiusi è un chiuso.

Dati $x,y \in X$ se $x\neq y$ allora $r=d(x,y)/2>0$. Osserviamo allora che $B_r(x)$ e $B_r(y)$ sono disgiunte in quanto se se esistesse $z\in B_r(x) \cap B_r(y)$ si avrebbe $d(x,y)\le d(x,z) + d(z,y) < r + r = d(x,y)$ che è assurdo.

Abbiamo quindi dimostrato le quattro proprietà degli aperti. Passiamo alle proprietà degli intorni. Per definizione un insieme $U$ è un intorno di $x$ se esiste un aperto $A$ tale che $x\in A \subset U$. Necessariamente quindi $x\in U$. E se $V\supset U$ allora $x\in A \subset V$ e dunque anche $V$ è intorno di $x$. Se $U$ e $V$ sono intorni dovranno esistere due aperti $A$ e $B$ tali che $x\in A \subset U$ e $x \in B \subset V$. Ma allora $A\cap B$ è aperto e $x \in A \cap B \subset U \cap V$ dunque $U\cap V$ è anch'esso un intorno di $x$. Per il quarto punto basta osservare che ogni intorno contiene, per definizione, un aperto che contiene il punto e un aperto è, sempre per definizione, intorno di ogni suo punto. Per il punto 5 già sappiamo che due punti distinti sono contenuti in aperti disgiunti, e gli aperti sono sempre intorni di ogni loro punto.

Dimostriamo ora che la parte interna di un insieme $A$ è l'unione di tutti gli aperti contenuti in $A$. Da un lato se $x$ è un punto interno ad $A$ allora esiste $r>0$ tale che $B_r(x)\subset A$. Essendo $B_r(x)$ aperto risulta quindi che $x$ sta nell'unione degli aperti contenuti in $A$. Viceversa se $x$ sta nell'unione di tutti gli aperti contenuti in $A$ deve esistere un aperto $U$ tale che $x\in U \subset A$. Ma allora esiste $r>0$ tale che $B_r(x) \subset U \subset A$ e dunque $x$ è punto interno ad $A$. La proprietà analoga per i chiusi si ottiene passando ai complementari.

La frontiera di un insieme è, per definizione, l'insieme dei punti che non sono né interni né esterni. D'altra parte è chiaro che un punto non può essere contemporaneamente interno ed esterno. Dunque la frontiera è il complementare dell'unione della parte interna e della parte esterna, ed è quindi un insieme chiuso.
\end{proof}
\end{comment}

\begin{theorem}[chiusura sequenziale]%
  \label{th:chiuso_sequenziale}%
Sia $(X,d)$ uno spazio metrico.
Un insieme $A\subset X$ è chiuso se e solo se
per ogni successione $a_n\in A$ se $a_n\to a\in X$ allora $a \in A$
(il limite di punti di $A$, se esiste, è un punto di $A$).
\end{theorem}
%
\begin{proof}
Supponiamo che $A$ sia chiuso e sia
$a_k \in A$ una successione convergente ad un punto di $X$: $a_k \to a$.
Dobbiamo mostrare che $a\in A$.
Per definizione di convergenza
sappiamo che per ogni $\eps>0$ esiste $K\in \NN$ tale per ogni $k> K$
si ha $d(a_k,a)<\eps$ e quindi $a_k \in B_\eps(a)$.
In particolare $A \cap B_\eps(a) \neq \emptyset$.
Risulta quindi che $a$ non è esterno ad $A$ e quindi, essendo $A$ chiuso, $a\in A$.

Supponiamo che $A$ non sia chiuso e verifichiamo che in tal caso
si può trovare una successione $a_k$ di punti di $A$ che converge $a_k\to a$
ad un punto $a\not\in A$.
Se $A$ non è chiuso significa che c'è un punto $a \in X\setminus A$ che non è esterno ad $A$.
Ciò vuol dire che per ogni $r>0$ l'insieme $B_r(a)\cap A$ è non vuoto. Per ogni $k\in \NN$ posso allora
scegliere $r=1/k$ e quindi so che esiste un punto $a_k\in B_r(a) \cap A$ ovvero $a_k \in A$ e
$d(a_k,a) < 1/k$.
Dunque $a_k \to a$ con $a_k\in A$ ma $a\not \in A$, come volevamo dimostrare.
\end{proof}

\begin{definition}[continuità]%
  \label{def:continua_metrico}%
\mymark{**}%
Una funzione $f\colon X \to Y$ definita tra due spazi metrici
si dice essere \emph{sequenzialmente continua}%
\mymargin{sequenzialmente continua}\index{sequenzialmente!continua} nel punto $x\in X$ se
per ogni successione convergente $x_n \to x$ in $X$ 
risulta che $f(x_n)\to f(x)$ in $Y$.
Diremo che $f$ è \emph{sequenzialmente continua} se è sequenzialmente continua
in ogni punto $x$ del suo dominio $X$.

Una funzione $f\colon X \to Y$ definita tra due spazi metrici
si dice essere \emph{continua}%
\mymargin{continua}\index{continua} in un punto $x\in X$ se
\begin{equation}\label{eq:continuita_metrico}
 \forall \eps>0\colon \exists \delta>0\colon \forall y \in X \colon
 d(x,y)< \delta \implies d(f(x), f(y)) < \eps.
\end{equation}
Diremo che $f$ è \emph{continua} se
è continua in ogni punto $x$ del suo dominio.
\end{definition}

Anche in questo caso abbiamo considerato due diverse nozioni di continuità che
in generale (in spazi topologici) potrebbero non coincidere ma nel caso degli
spazi metrici sono equivalenti, come dimostriamo nel seguente teorema.

\begin{theorem}[definizioni equivalenti di continuità]
Sia $f\colon X \to Y$ una funzione definita tra due spazi metrici $X$ e $Y$.
Allora $f$ è sequenzialmente continua in un punto $x\in X$ se e solo se è
continua nel punto $x$.

Inoltre $f$ è continua se e solo se
per ogni $A$ aperto in $Y$ risulta che $f^{-1}(A)$ è aperto in $X$
(la controimmagine di un aperto è aperta).
\end{theorem}
%
\begin{proof}
Supponiamo che $f$ sia sequenzialmente continua in $x$
e, per assurdo, supponiamo che $f$ non sia continua nello stesso punto $x$.
Allora negando~\eqref{eq:continuita_metrico} otteniamo che esiste $\eps>0$
tale che per ogni $\delta>0$ in particolare per ogni $\delta = \frac{1}{k}$
con $k\in \NN$ esiste un punto $y_k$ tale che $d(y_k,x)<\frac 1 k$ ma
$d(f(y_k),f(x))\ge \eps$. Significa che $y_k \to x$ e quindi,
se $f$ è sequenzialmente continua, dovrebbe essere $f(y_k)\to f(x)$. Ma
questo è in contraddizione con la condizione $d(f(y_k),f(x))\ge \eps$.

Viceversa supponiamo che $f$ sia continua in $x$ e consideriamo una qualunque
successione $x_k \to x$.
Per dimostrare che $f(x_k)\to f(x)$ dobbiamo verificare che per ogni
$\eps>0$ esiste $K\in \NN$ tale che per ogni $k>K$ si ha $d(f(x_k),f(x)) < \eps$.
Ma dalla continuità di $f$, dato $\eps>0$ sappiamo esistere $\delta>0$ per cui
se $d(y,x)<\delta$ allora $d(f(y),f(x))<\eps$. Visto che $x_k\to x$
certamente esiste $K\in \NN$ tale che per ogni $k>K$ si ha $\abs{x_k-x}<\delta$
e quindi $\abs{f(x_k)-f(x)}< \eps$ come volevamo dimostrare.

Mostriamo ora che se $f$ è continua e $A$ è aperto in $Y$ allora $f^{-1}(A)$
è aperto in $X$.
Dato un punto qualunque $x_0\in f^{-1}(A)$ sappiamo che $f(x_0)\in A$ dunque, essendo
$A$ aperto, esiste $\eps>0$ tale che $B_\eps(f(x_0))\subset A$.
Per la continuità di $f$ esiste allora $\delta>0$ tale che se $\abs{x-x_0} < \delta$
allora $\abs{f(x)-f(x_0)}<\eps$ e quindi $f(x)\in A$. Significa che $B_\delta(x_0)\subset f^{-1}(A)$.
Questo è vero per ogni $x_0\in f^{-1}(A)$ quindi tale insieme è aperto.

Viceversa supponiamo che la controimmagine di ogni aperto sia un aperto e
dimostriamo che la funzione è continua in ogni punto.
Preso un punto $x_0\in X$ e un $\eps>0$ consideriamo l'aperto $B_\eps(f(x_0))$.
La sua controimmagine è l'insieme $\ENCLOSE{x\colon \abs{f(x)-f(x_0)} < \eps}$ e
per ipotesi sappiamo che è aperto. Significa allora che esiste $\delta>0$
tale $B_\delta(x_0)$ è contenuto in tale insieme, ovvero per ogni $x\in B_\delta(x_0)$
cioè $\abs{x-x_0}<\delta$
risulta $f(x) \in B_\eps(f(x_0))$
cioè $\abs{f(x)-f(x_0)}<\eps$.
Abbiamo quindi verificato la definizione di
continuità nel punto $x_0$.
\end{proof}

\begin{theorem}[continuità della funzione composta]%
  \label{th:continuita_funzione_composta_metrico}%
Siano $X$, $Y$ e $Z$ spazi metrici, $f\colon X\to Y$ 
e $g\colon Y\to Z$ funzioni continue. 
Allora $g\circ f\colon X\to Z$ è continua.
\end{theorem}
\begin{proof}
  Usando la continuità sequenziale basta osservare che 
  se $x_n\to x$ allora $f(x_n)\to f(x)$ e quindi $g(f(x_n))\to g(f(x))$.
\end{proof}

\begin{definition}[spazi limitati]%
  \label{def:spazio_limitato}%
\mymark{*}%
Sia $X$ uno spazio metrico o un sottoinsieme di uno sottospazio metrico. Si dirà che $X$ è
\emph{limitato}%
\mymargin{limitato}\index{limitato} se è contenuto in una palla ovvero se
esiste $x_0\in X$ e $R>0$ tale che $X\subset B_R(x_0)$.
\end{definition}

\begin{definition}[compattezza sequenziale]%
  \label{def:sequenzialmente_compatto}%
\mymark{**}%
Sia $X$ uno spazio metrico o un sottoinsieme di uno
spazio metrico. Si dirà che $X$ è
\emph{sequenzialmente compatto}%
\mymargin{sequenzialmente compatto}\index{sequenzialmente!compatto} se da ogni
successione $x_k \in X$ è possibile estrarre una sottosuccessione $x_{k_j}\to x$
convergente ad un punto $x\in X$.
\end{definition}

La definizione più generale di compattezza viene data negli spazi topologici.
Nel contesto generale compattezza e compattezza sequenziale sono concetti
diversi ma nell'ambito degli spazi metrici i due concetti coincidono.
Per questo potremo scrivere più brevemente \emph{compatto}%
\mymargin{compatto}\index{compatto}
al posto di \emph{sequenzialmente compatto} quando lavoriamo negli spazi metrici.

Il teorema di Bolzano-Weierstrass afferma che gli intervalli $[a,b]$ con
$a,b\in \RR$ sono compatti. 
Possiamo estendere questo risultato in $\RR^n$.

\begin{theorem}[compattezza in $\RR^n$]%
  \label{th:compattezza_Rn}%
Sia $K\subset \RR^n$ un insieme chiuso e limitato. 
Allora $K$ è compatto.
\end{theorem}
\begin{proof}
Sia $\vec x_k\in K$ una qualunque successione di punti. 
Se $K$ è limitato significa che esiste una palla $B_r(\vec y)$ 
che contiene $K$ dunque $\abs{\vec x_k - \vec y} < r$ per ogni $k$.
Posto $R=r+\abs{\vec y}$ per disuguaglianza triangolare possiamo affermare 
che $\abs{\vec x_k} < R$ per ogni $k$. 
Denotiamo con $((x_k)_1, \dots, (x_k)_n)$ le coordinate 
del punto $\vec x_k\in \RR^n$. 
Allora visto che $\abs{(x_k)_j}\le \abs{x_k}$ si ottiene $(x_k)_j\in [-R,R]$
per ogni $k\in\NN$ e ogni $j=1,\dots, n$.
Per il teorema di Bolzano-Weiestrass la successione $(x_k)_1$ ha una estratta 
convergente. Ma da tale estratta possiamo estrarre una sotto-sottosuccessione 
per cui anche $(x_k)_2$ è convergente. 
Ovviamente su tale sotto-sottosuccessione $(x_k)_1$ continua ad essere convergente.
Iterando $n$ volte otteniamo una sotto-sotto-\dots-sottosuccessione di $\vec x_k$ 
tale per cui ogni componente $(x_k)_j$ converge ad un numero $p_j\in \RR$
per $j=1,\dots, n$.
Ma questo significa che $\vec x_k \to \vec p \in \RR^n$ con $\vec p = (p_1,\dots, p_n)$

Visto che $K$ è chiuso deve essere $\vec p\in K$ e dunque $K$ è compatto.
\end{proof}

In uno spazio metrico generico non è detto che gli insiemi chiusi e limitati 
siano compatti (un esempio negativo è dato dalla convergenza uniforme, come
vedremo più avanti). 
L'implicazione inversa invece è sempre vera, come enunciato nel
seguente teorema.

\begin{theorem}%
\mymark{**}%
Se $A$ è un sottoinsieme sequenzialmente
compatto di uno spazio metrico $X$
allora $A$ è chiuso e limitato.
\end{theorem}
%
\begin{proof}
Chiaramente $A$ è chiuso in quanto presa una successione $x_k\in A$ convergente a punto $x\in X$
sappiamo che esiste una sottosuccessione convergente ad un punto di $A$. Ma necessariamente ogni sottosuccessione converge ad $x$ quindi $x\in A$. Se $A$ non fosse limitato
fissato $a\in A$ per ogni $k\in \NN$ dovrebbe esistere un punto $x_k\in A$ tale che $x_k \not\in B_k(a)$
cioè $d(x_k,a) > k$. Supponiamo allora che esista una sottosuccessione convergente $x_{k_j}\to x \in A$. Allora per la disuguaglianza triangolare inversa si avrebbe
\[
  d(x, a) \ge d(x_{k_j}, a) - d(x_{k_j},x)
   \ge k_j - d(x_{k_j},x) \to +\infty - 0 = +\infty.
\]
Ma questo è assurdo in quanto $d(x,a)\in \RR$.
\end{proof}

\begin{theorem}[Weierstrass: le funzioni continue mandano compatti in compatti]
  \label{th:weiestrass_metrico}%
  \index{Weiestrass!teorema di}%
  \index{teorema!di Weiestrass}%
Sia $f\colon X \to Y$ una funzione continua tra
due spazi metrici $X$ e $Y$.
Se $K\subset X$ è sequenzialmente compatto allora
anche $f(K)$ è sequenzialmente compatto.
\end{theorem}
%
\begin{proof}
Sia $y_k \in f(K)$ una qualunque successione. Allora
esiste $x_k \in K$ tale che $f(x_k) = y_k$.
Essendo $K$ compatto possiamo estrarre una sottosuccessione convergente: $x_{k_j}\to x$. Essendo $f$ continua si ha
\[
  y_{k_j} = f(x_{k_j}) \to f(x) \in f(K).
\]
\end{proof}

Nel caso $X=Y=\RR$ recuperiamo l'usuale teorema di Weierstrass, in quanto se $f\colon [a,b]\to \RR$ è continua essendo $[a,b]$ compatto risulta che $f([a,b])$ è compatto. Ma i compatti di $\RR$ sono chiusi e limitati quindi hanno massimo e minimo in quanto l'estremo superiore e l'estremo inferiore sono finiti e sono punti di aderenza dell'insieme.

\begin{definition}[uniforme continuità]
  Sia $f\colon X \to Y$ una funzione definita tra due spazi metrici $X$ e $Y$.
  Diremo che $f$ è \emph{uniformemente continua}%
\mymargin{uniformemente continua}\index{uniformemente continua} se 
  \[
  \forall \eps>0 \colon \exists \delta>0 \colon 
    d(x,x')< \delta \implies d(f(x),f(x'))<\eps. 
  \]
\end{definition}

\begin{theorem}[Heine-Cantor]
  \mymargin{Heine-Cantor}%
\index{Heine-Cantor}%
  \index{teorema!di Heine-Cantor}%
Sia $X$ uno spazio metrico sequenzialmente compatto e $Y$ uno spazio metrico.
Sia $f\colon X\to Y$ una funzione continua. Allora $f$ è uniformemente continua.
\end{theorem}
%
\begin{proof}
  La dimostrazione è identica a quella già fatta nel corrispondente 
  teorema~\ref{th:heine_cantor} per le funzioni di variabile reale.
\end{proof}


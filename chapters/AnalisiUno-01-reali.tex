\chapter{insiemi numerici}


\section{proposizioni e predicati}

Se, come diceva Galileo, la matematica è il linguaggio della scienza,
è importante che la matematica sia essa stessa espressa in un linguaggio
che risulti essere il più possibile oggettivo e non ambiguo.
La \emph{logica} è la disciplina matematica che si occupa
dello studio e della formalizzazione del linguaggio matematico.
In questo capitolo riassumiamo in maniera breve ed intuitiva
alcuni concetti che probabilmente sono noti e contemporaneamente
fissiamo le notazioni che verranno utilizzate nel seguito.
Per eventuali approfondimenti rimandiamo a \cite{appunti_logica}.

Una \myemph{proposizione}
è una frase (formalmente diremmo \emph{formula})
che assume un valore di verità ben
definito: vero oppure falso.
Un esempio di proposizione (falsa) è ``2+2=5''.

E' possibile combinare più proposizioni mediante
gli operatori logici. Se $P$ e $Q$ sono proposizioni
si può costruire la proposizione $P \land Q$
chiamata \myemph{congiunzione logica}. Tale proposizione
si può leggere ``$P$ e $Q$'' ed è una proposizione
che risulta essere vera solamente nel caso in cui sia
$P$ che $Q$ siano vere.
La \myemph{disgiunzione logica} denotata con $P \lor Q$
si può leggere ``$P$ o $Q$'' ed è una proposizione che
è vera se almeno una tra $P$ e $Q$ è vera.
La \myemph{negazione logica} denotata con $\lnot P$ è una
proposizione che si può leggere ``non $P$'' che
è vera quando $P$ è falsa ed è falsa quando $P$ è vera.

Operatori logici molto utilizzati sono le \myemph{implicazioni}.
La proposizione $P\Rightarrow Q$ si può leggere ``$P$ implica $Q$''
e significa che $Q$ è vera se $P$ è vera. Non si confonda
il valore di verità di $P\Rightarrow Q$ con il valore di verità
di $Q$. Se $P$ è vera allora $P\Rightarrow Q$ è vera o falsa
a seconda che $Q$ sia vera o falsa. Ma se $P$ è falsa allora
l'implicazione $P\Rightarrow Q$ è vera indipendentemente dal
valore di $Q$. In effetti $P\Rightarrow Q$ è equivalente a
$Q \lor \lnot P$ perché per la verità di $P\Rightarrow Q$
basta che $Q$ sia vera (quando $P$ è vera) oppure che $P$ sia falsa.

La freccia inversa $P\Leftarrow Q$ si può utilizzare per
invertire l'implicazione: è equivalente a $Q \Rightarrow P$.
Se valgono entrambe le implicazioni
$(P \Leftarrow Q) \land (P\Rightarrow Q)$
è facile convincersi che $P$ e $Q$ devono avere lo stesso
valore di verità: diremo quindi che sono equivalenti e
scriveremo $P \Leftrightarrow Q$.

Nella tabella~\ref{tab:verita_operatori_logici} sono riportati
tutti i valori di verità che si possono ottenere combinando
tra loro due proposizioni. Nella tabella~\ref{tab:operatori_logici}
sono riportate alcune proprietà di tali operatori: queste
proprietà possono essere capite interpretando il loro significato
ma possono anche essere dedotte meccanicamente tramite la tabella
di verità delle operazioni.

\begin{table}
\begin{center}
  \begin{tabular}{cc|cccccc}
    $P$ & $Q$ & $\neg P$ & $P\land Q$ & $P\lor Q$ & $P\Rightarrow Q$ &
    $P\Leftarrow Q$ & $P\Leftrightarrow Q$ \\\hline
    \texttt{V} & \texttt{V} & \texttt{F} & \texttt{V} & \texttt{V} & \texttt{V} & \texttt{V} & \texttt{V} \\
    \texttt{V} & \texttt{F} & \texttt{F} & \texttt{F} & \texttt{V} & \texttt{F} & \texttt{V} & \texttt{F} \\
    \texttt{F} & \texttt{V} & \texttt{V} & \texttt{F} & \texttt{V} & \texttt{V} & \texttt{F} & \texttt{F} \\
    \texttt{F} & \texttt{F} & \texttt{V} & \texttt{F} & \texttt{F} & \texttt{V} & \texttt{V} & \texttt{V} \\
    \end{tabular}
\end{center}
\caption{La tabella di verità degli operatori logici.}
\label{tab:verita_operatori_logici}
\end{table}

\begin{table}
\begin{tabular}{rcll}
                         $\neg \neg P$ & $\iff$ & $ P$                           & doppia negazione\\
                                    $P \land Q$ & $\iff$ & $ Q \land P$                   & simmetria\\
                                     $P \lor Q$ & $\iff$ & $ Q \lor P$                    & \\
                              $\neg (P\land Q)$ & $\iff$ & $ (\neg P) \lor (\neg Q)$      & formule di De Morgan\\
                               $\neg (P\lor Q)$ & $\iff$ & $ (\neg P) \land (\neg Q)$     & \\
                            $(P\land Q) \lor R$ & $\iff$ & $ (P\lor R) \land (Q \lor R)$  & proprietà distributiva\\
                            $(P\lor Q) \land R$ & $\iff$ & $ (P\land R) \lor (Q \land R)$ & \\
                            $(P \Rightarrow Q)$ & $\iff$ & $ (Q \Leftarrow P)$            & antisimmetria\\
                        $\neg (P\Rightarrow Q)$ & $\iff$ & $ P \land (\neg Q)$            & controesempio\\
                             $(P\Rightarrow Q)$ & $\iff$ & $ \lnot(P \land (\neg Q))$     & dimostrazione per assurdo\\
                             $(P\Rightarrow Q)$ & $\iff$ & $ (\neg Q\Rightarrow\neg P)$   & implicazione contropositiva
\end{tabular}
\caption{Alcune proprietà degli operatori logici.}
\label{tab:operatori_logici}
\end{table}

Un \myemph{predicato} è una proposizione che contiene
una o più variabili, il cui valore di verità, quindi,
può dipendere dal valore assegnato alle variabili.
Un esempio di predicato è $x+2=5$ che risulta essere vero se $x=3$
e falso altrimenti.

Se un predicato dipende da una o più variabili queste
si chiamano \myemph{variabili libere}. E' possibile
\emph{chiudere} una variabile libera mediante un quantificatore.
Il \myemph{quantificatore universale} denotato col simbolo
$\forall$ serve ad affermare che il predicato è vero
per ogni possibile valore della variabile quantificata.
Ad esempio la proposizione $\forall x\colon x+2=5$ significa:
``per ogni $x$ si ha $x+2=5$'' ed è una proposizione falsa.
Il quantificatore $\forall x$ rende \emph{muta} la variabile
$x$ del predicato $x+2=5$ nel senso che la proposizione
non dipende più dal valore di quella variabile, che non è
più una variabile libera.

Il \myemph{quantificatore esistenziale} denotato col simbolo
$\exists$ serve ad affermare che il predicato è vero per
almeno un valore della variabile quantificata.
Ad esempio la proposizione $\exists x\colon x+2=5$ significa:
``esiste almeno un $x$ per cui risulta $x+2=5$''.
Quello che si ottiene è una proposizione in cui la variabile
$x$ è muta. In questo caso la proposizione è vera in quanto
per $x=3$ il predicato è vero.

Un predicato può dipendere da più variabili ed è quindi
possibile inserire più quantificatori. In tal caso l'ordine
dei quantificatori può essere rilevante.
Delle seguenti proposizioni la prima è vera, la seconda
invece è falsa:
\begin{gather*}
\forall x\colon \exists y\colon x+2=y \\
\exists y\colon \forall x\colon x+2=y.
\end{gather*}

\begin{table}
\begin{center}
\begin{tabular}{lcl}
$\lnot \forall x \colon P(x)$ & $\iff$ & $\exists x \colon \lnot P(x)$\\
$\lnot \exists x \colon P(x)$ & $\iff$ & $\forall x \colon \lnot P(x)$\\
$\forall x \colon P(x)$ & $\Longrightarrow$ & $\exists x \colon P(x)$
\end{tabular}
\end{center}
\caption{Alcune proprietà dei quantificatori logici.}
\label{tab:proprieta_quantificatori}
\end{table}

Alcune proprietà dei quantificatori logici sono riportate
nella tabella~\ref{tab:proprieta_quantificatori}.


\section{teoria degli insiemi}
Nei paragrafi precedenti abbiamo visto che i predicati possono essere
combinati tra loro e quantificati.
Ma quali sono i predicati elementari che possiamo considerare?
La teoria degli insiemi ci fornisce la formalizzazione del concetto
di \emph{appartenenza}: il predicato di base (l'unico che ci servirà) è
un predicato della forma $x \in A$ che significa ``l'oggetto $x$ è un elemento
dell'insieme $A$''.
La teoria degli insiemi non spiega (né tantomento definisce)
cosa siano gli oggetti e cosa siano gli insiemi perché questi sono concetti
primitivi (come lo sono i \emph{punti} e le \emph{rette} per la geometria euclidea).
La teoria degli insiemi ci fornisce, semplicemente, le regole formali che
possono essere utilizzate per trattare i predicati della forma $x\in A$.
Ad esempio un \emph{assioma} della teoria degli insiemi è il seguente:
\[
  \exists A \colon \lnot \exists x\colon x \in A
\]
che significa: ``esiste un insieme $A$ che non contiene alcun elemento $x$''
ovvero stiamo dicendo che esiste l'\myemph{insieme vuoto} che normalmente viene
denotato con il simbolo $\emptyset$.
Altri opportuni assiomi della teoria degli insiemi garantiscono l'esistenza
dell'unione $A\cup B$, intersezione $A\cap B$ e differenza $A\setminus B$
di due insiemi qualunque $A$ e $B$. Tali operazioni
tra insiemi possono essere ricondotte alla relazione di appartenenza
e possono quindi essere definite come segue:
\begin{align*}
    x \in A \cup B &\iff (x\in A) \lor (x\in B)\\
    x \in A \cap B &\iff (x\in A) \land (x\in B)\\
    x \in A \setminus B &\iff (x\in A) \land \lnot (x \in B).
\end{align*}
La negazione dell'appartenenza $\lnot (x \in A)$ viene usualmente
abbreviata con $x \not \in A$.

Sempre utilizzando la semplice relazione di appartenenza possiamo definire
le relazioni di inclusione e uguaglianza tra insiemi:
$A \subset B$ si legge ``$A$ è un sottoinsieme di $B$''
e $A=B$ si legge ``$A$ è uguale a $B$''. Queste relazioni sono
definite dalle seguenti proprietà:
\begin{align*}
  A \subset B &\iff \forall x\colon (x\in A \implies x\in B)\\
  A = B &\iff \forall x\colon (x\in A \iff x \in B).
\end{align*}
Ovviamente la relazione $A \subset B$ può essere invertita: scriveremo
$A\supset B$ (che si può leggere: ``$A$ è un soprainsieme di $B$'')
per indicare $B \subset A$. Scriveremo anche $A \neq B$ per indicare
la relazione opposta dell'uguaglianza ovvero: $\lnot(A=B)$.

Risulta molto utile la possibilità di costruire insiemi di insiemi.
Per questo motivo la teoria degli insiemi usualmente non fa distinzione
tra oggetti e insiemi di oggetti. Nella relazione primitiva $x\in A$ anche
$x$ può essere un insieme. Possiamo allora immaginare che ogni oggetto del
nostro universo sia un insieme. In questo modo la relazione di uguaglianza $A=B$
che abbiamo definito sopra risulta ben definita per ogni coppia di oggetti
(o insiemi, che è lo stesso) $A$ e $B$.

Visto che gli elementi di un insieme sono a loro volta insiemi, è possibile
considerare l'unione e l'intersezione di tutti gli elementi di un insieme.
Questo estende il concetto di unione e intersezione anche a famiglie
eventualmente infinite:
\begin{align*}
  x \in \bigcup \mathcal A & \iff \exists A \in \mathcal A \colon x\in A, \\
  x \in \bigcap \mathcal A & \iff \forall A \in \mathcal A \colon x\in A.
\end{align*}

Un altro assioma della teoria degli insiemi garantisce che per ogni
$x$ esiste un insieme il cui unico elemento è $x$. Tale insieme
si chiama \emph{singoletto} e si denota con $\{x\}$. La proprietà
che definisce il singoletto è la seguente:
\[
  y \in \{x\} \iff y=x.
\]
Facendo l'unione di singoletti possiamo definire (per elencazione) insiemi che contengono
un numero finito di oggetti:
\begin{align*}
  \{a,b\} &= \{a\} \cup \{b\} \\
  \{a, b, c\} &= \{a,b\} \cup \{c\}\\
  \{a, b, c, d\} &= \{a,b,c\} \cup \{d\}\\
  &\quad\vdots
\end{align*}

Si faccia però attenzione: l'insieme $\{a,b\}$ contiene due elementi
solamente se $a\neq b$, infatti se $a=b$ si potrà facilmente verificare
che
\begin{equation}\label{eq:4775523}
  \{a,a\} = \{a\}.
\end{equation}

\begin{exercise}
  Verificare \eqref{eq:4775523} utilizzando le definizioni formali date in precedenza.
\end{exercise}
\begin{proof}[Svolgimento.]
Utilizzando le definizioni di unione, di singoletto e di disgiunzione logica
si ha l'equivalenza dei seguenti
predicati:
\begin{gather*}
  x \in \{a,a\}  \\
  x \in \{a\} \cup \{a\}\\
  (x \in \{a\}) \lor (x \in \{a\})\\
  (x = a) \lor (x = a) \\
  x = a \\
  x \in \{a\}
\end{gather*}
e dunque $\{a,a\}=\{a\}$ per la definizione di uguaglianza tra insiemi.
\end{proof}

Se $P(x)$ è un predicato in una sola variabile $x$ vorremmo poter
definire l'insieme, denotato con $\{x\colon P(x)\}$
di tutti gli oggetti $x$ che rendono vero il predicato $P(x)$:
\[
  a \in \{x\colon P(x)\} \iff P(a).
\]
Sorprendentemente se inseriamo questo assioma nella teoria degli insiemi
si giunge ad un paradosso (paradosso di Russel, si veda \cite{appunti_logica})
e si ottiene quindi una teoria incoerente
(cioè una teoria in cui tutte le proposizioni sono vere). Per evitare
l'incoerenza è necessario limitare l'assioma (chiamato \emph{assioma di specificazione})
alla costruzione di sottoinsiemi di insiemi già costruiti.
Se $B$ è un insieme e $P(x)$ è un predicato possiamo considerare
il sottoinsieme di $B$ formato da tutti gli elementi di $B$
che soddisfano il predicato:
\[
  a \in \{x\in B\colon P(x)\} \iff (a \in B \land P(a)).
\]

Per completare la teoria degli insiemi introduciamo anche il concetto di
\myemph{insieme delle parti}. Un apposito assioma garantisce
che dato un qualunque insieme $A$ esiste l'insieme $\P(A)$ delle parti di $A$
che è l'insieme di tutti i sottoinsiemi di $A$:
\[
  x \in P(A) \iff x \subset A.
\]

\section{relazioni e funzioni}

Grazie agli assiomi precedenti è possibile definire il prodotto cartesiano
di due insiemi: sarà questo un concetto molto importante nel seguito.
Innanzitutto dobbiamo definire il concetto di \myemph{coppia}: dati
$a,b$ definiamo la coppia $(a,b)$ con primo elemento $a$ e secondo elemento $b$
come un oggetto che ha questa proprietà:
\[
  (a, b) = (a', b') \iff (a=a') \land (b=b').
\]
Stiamo cioè richiedendo che una coppia viene identificata dai due
elementi che la compongono in cui, però, è importante anche l'ordine in
cui vengono elencati (a differenza dell'insieme $\{a,b\}$, in cui
l'ordine degli elementi è irrilevante).

Il \emph{prodotto cartesiano} $A\times B$ di due insiemi $A$ e $B$
è l'insieme di tutte le coppie il cui primo elemento sta in $A$ e
il secondo elemento sta in $B$:
\[
  (a, b) \in A \times B \iff (a\in A \land b\in B).
\]
Coppia e prodotto cartesiano possono essere definiti tramite gli
assiomi precedenti (si veda, al solito, \cite{appunti_logica})
ma non è veramente rilevante il modo in cui questo può essere fatto.
Se rappresentiamo gli elementi di $A$ come dei punti su una retta
orizzontale (asse delle $x$) e gli elementi di $B$ come dei punti
su una retta verticale (asse delle $y$) gli elementi di $A\times B$
possono essere rappresentati come i punti del piano che proiettati sull'asse
delle $x$ vanno in $A$ e proiettati sull'asse delle $y$ vanno in $B$.

\begin{figure}
  \hfill
  \begin{tikzpicture}[x=0.8cm]
  	\draw[->] (0,0) -- (4,0);
  	\draw[->] (0,0) -- (0,3);
  	\node at (4.3,0) {$A$};
  	\node at (0,3.3) {$B$};

      \draw (0.8,0) -- +(0,0.1) node [label=below:$a_1$]{};
      \draw (1.6,0) -- +(0,0.1) node [label=below:$a_2$]{};
      \draw (2.4,0) -- +(0,0.1) node [label=below:$a_3$]{};
      \draw (3.2,0) -- +(0,0.1) node [label=below:$a_4$]{};

      \draw (0,0.8) -- +(0.1,0) node [label=left:$b_1$]{};
      \draw (0,1.6) -- +(0.1,0) node [label=left:$b_2$]{};
      \draw (0,2.4) -- +(0.1,0) node [label=left:$b_3$]{};

  	\draw[dotted] (0.8,0) -- (0.8,0.8) -- (0,0.8);
  	\draw[dotted] (1.6,0) -- (1.6,2.4) -- (0,2.4);
  	\draw[dotted] (2.4,0) -- (2.4,1.6) -- (0,1.6);
  	\draw[dotted] (3.2,0) -- (3.2,2.4) -- (0,2.4);

  	\fill (0.8,0.8) circle (2pt) node[above] {$\scriptstyle (a_1,b_1)$};
  	\fill (1.6,2.4) circle (2pt) node[above] {$\scriptstyle (a_2,b_3)$};
  	\fill (2.4,1.6) circle (2pt) node[above] {$\scriptstyle (a_3,b_2)$};
  	\fill (3.2,2.4) circle (2pt) node[above] {$\scriptstyle (a_4,b_3)$};
  \end{tikzpicture}
%
  \hfill
%
  \begin{tikzpicture}[x=1cm,y=0.8cm]
  \fill (1,4) circle (2pt) node (a1) [label=left:$a_1$]{};
  \fill (0.8,3) circle (2pt) node (a2) [label=left:$a_2$]{};
  \fill (1.2,2) circle (2pt) node (a3) [label=left:$a_3$]{};
  \fill (1,1) circle (2pt) node (a4) [label=left:$a_4$]{};

  \fill (4,3.5) circle (2pt) node (b1) [label=right:$b_1$] {};
  \fill (3.7,2.5) circle (2pt) node (b2) [label=right:$b_2$] {};
  \fill (4,1.5) circle (2pt) node (b3) [label=right:$b_3$] {};

  \draw[->] (a1) edge (b1);
  \draw[->] (a2) edge (b3);
  \draw[line width=3pt,white] (a3) edge (b2);
  \draw[->] (a3) edge (b2);
  \draw[->] (a4) edge (b3);

  \draw[draw=gray](1,2.5) ellipse (1cm and 2cm);
  \draw[draw=gray](4,2.5) ellipse (1cm and 1.5cm);
  \node at (1,5.5) {$A$};
  \node at (4,5) {$B$};
  \node at (2.5,4.5) {$f$};
  \end{tikzpicture}
  \hfill
  \mbox{}
  \caption{La funzione $f\colon A\to B$,
  $f=\{a_1\mapsto b_1,\ a_2 \mapsto b_3,\ a_3 \mapsto b_2,\ a_4 \mapsto b_3\}$
  rappresentata tramite grafico e
  tramite diagrammi di Venn.}
\end{figure}

Per introdurre il concetto di \emph{relazione} e \emph{funzione} è utile
introdurre una notazione alternativa per la coppia: invece di denotarla
con $(a,b)$ useremo la notazione $a \mapsto b$ e penseremo intuitivamente
alla coppia come ad una \emph{freccia} che parte dall'oggetto $a$
e arriva all'oggetto $b$. Dunque se pensiamo agli elementi di
un insieme come dei punti il prodotto cartesiano
$A\times B$ risulta essere l'insieme di tutte le frecce che partono dai punti
di $A$ e arrivano ai punti di $B$.

Una funzione $f\colon A \to B$ è un insieme di frecce che mandano
ogni punto di $A$ in modo univoco in un punto di $B$. Formalmente
$f$ è quindi un sottoinsieme di $A\times B$ con la proprietà che
per ogni $a\in A$ c'è una ed una sola freccia uscente da $a$:
esiste cioè un unico $b\in B$ tale che $(a\mapsto b)\in f$.
Invece di scrivere $(a\mapsto b)\in f$ potremo scrivere in modo più espressivo
$a\stackrel f \mapsto b$.
Dato $a\in A$ esiste dunque un unico $b\in B$ tale che
$a\stackrel f \mapsto b$: chiameremo $f(a)$ tale oggetto $b$.
Si avrà dunque
\[
 b=f(a) \iff a\stackrel f \mapsto b.
\]
L'insieme di tutte le funzioni $f\colon A\to B$ viene usualmente denotato con $B^A$.

L'insieme $A$ viene chiamato \myemph{dominio} della funzione $f$,
l'insieme $B$ viene chiamato \myemph{codominio}.
La funzione $f$ rappresenta quindi un modo di assegnare in maniera univoca
ad ogni elemento del dominio un elemento del codominio.
Da un punto di vista informatico potremmo dire che $A$ è l'insieme
dei possibili \emph{input} e $B$ è l'insieme dei possibili \emph{output}
della funzione $f$.

Sebbene abbiamo costruito il concetto di \emph{funzione} utilizzando la teoria
degli insiemi, nel seguito non assumeremo mai che le funzioni siano state definite
in questo modo, ma useremo solamente le loro proprietà senza andare ad indagare
quale sia esattamente la loro costruzione interna.
Quindi invece di scrivere $(a,b)\in f$ scriveremo sempre $f(a)=b$.
Sarà comunque molto importante
considerare l'insieme che rappresenta $f$ ma questo verrà chiamato
\myemph{grafico} di $f$, $G_f$ e potrà essere definito in questo modo:
\[
  G_f = \{(x,y)\in A \times B\colon f(x)=y\}.
\]
Nella nostra costruzione risulta effettivamente $G_f = f$ ma non
useremo mai questa proprietà e tenderemo a distinguere il concetto di funzione
dal suo grafico.
Anticipiamo fin da subito che lo studio dei grafici delle funzioni reali è uno degli argomenti
principali di questo corso.

Capita molto spesso che un fenomeno possa essere modellizzato matematicamente
tramite una funzione: si sa che ad un certo \emph{input} $a$ corrisponde
un \emph{output} $b=f(a)$. Molto spesso il problema da risolvere è
quello di determinare l'\emph{input} giusto $a$ per ottenere l'\emph{output}
voluto $b$. Questo problema corrisponde ad \emph{invertire} la funzione $f$:
dato $b\in B$ determinare $x\in A$ tale che $f(x) = b$.

Una funzione $f\colon A \to B$ si dice essere \myemph{surgettiva} (o \emph{suriettiva})
se per ogni $b\in B$ esiste almeno un $x\in A$ per cui $f(x)=b$. Questo
significa che il problema dell'inversione ha almeno una soluzione, qualunque
sia $b\in B$.
Una funzione $f\colon A \to B$ si dice essere \myemph{iniettiva}
se non esistono due punti distinti $a,a' \in A$, $a\neq a'$ tali
che $f(a) = f(a')$. Questo significa che il problema dell'inversione
$f(x)=b$ se ha al più una soluzione (la soluzione, se esiste, è unica).
Una funzione $f\colon A \to B$ si dice essere \emph{bigettiva}
\mymargin{bigettiva\\invertibile}%
\index{bigettiva}%
\index{funzione!bigettiva}%
\index{invertibile}%
\index{funzione!invertibile}%
o
\emph{invertibile}%
\footnote{Attenzione: in alcuni testi (tra cui~\cite{Giusti}) si considerano
invertibili le funzioni iniettive, anche se non suriettive.}
se è sia iniettiva che surgettiva. Questo significa
che il problema dell'inversione $f(x)=b$ ha una unica soluzione $x\in A$
qualunque sia $b\in B$. In particolare se $f$ è invertibile per ogni $b\in B$ esiste
un unico $a\in A$ per cui $f(a)=b$.
Chiamato $a=g(b)$ l'unico $a\in A$ per cui $f(a)=b$
si ottiene dunque una funzione $g\colon B\to A$ con le proprietà:
\[
  \forall a\in A\colon g(f(a)) = a, \qquad
  \forall b\in B\colon f(g(b)) = b.
\]
Una funzione $g$ con queste proprietà viene chiamata \myemph{funzione inversa}
di $f$ e viene usualmente denotata con il simbolo $f^{-1}$.

Introduciamo ora delle notazioni che sarà comodo utilizzare nel seguito.
Se $f\colon A \to B$ è una funzione e se $C\subset A$ definiamo
\[
  f(C) = \{f(a)\colon a \in C\} = \{b\in B\colon \exists a\in C\colon b=f(a)\}.
\]
L'insieme $f(C)\subset B$ si chiama \emph{immagine} di $C$ (tramite $f$) ed è formato
da tutti i punti che si ottengono applicando $f$ agli elementi di $C$.
L'immagine dell'intero dominio $f(A)$ si chiama immagine di $f$.
Si noti che $f$ è surgettiva se e solo se $f(A)=B$ (cioè se l'immagine coincide
col codominio).
Anche se $f\colon A \to B$ non fosse iniettiva, per ogni $C\subset B$
definiamo
\[
  f^{-1}(C) = \{a\in A\colon f(a) \in C\}.
\]
L'insieme $f^{-1}(C)\subset A$ si chiama \emph{preimmagine} di $C$ (tramite $f$)
ed è formato da tutti i punti di $A$ che applicando $f$ vanno in $C$.
Si noti che se $b\in B$ l'insieme $f^{-1}(\{b\})$ non è altro che
l'insieme delle soluzioni dell'equazione $f(x)=b$. Come abbiamo
già visto tale insieme contiene almeno un elemento se $f$ è suriettiva,
contiene al più un elemento se $f$ è iniettiva e contiene esattamente
un elemento $f^{-1}(\{b\}) = \{f^{-1}(b)\}$ se $f$ è bigettiva.

La notazione $f(C)$ appena introdotta è formalmente ambigua in quanto
potrebbe non essere chiaro se $C$ è un elemento oppure un sottoinsieme
del dominio di $f$.
In pratica il contesto dovrebbe rendere chiaro cosa si intende.

Più in generale ci capiterà di estendere questo abuso di notazione non solo
alle funzioni, ma anche alle relazioni e alle operazioni.
Ad esempio se $A$ e $B$ sono insiemi di numeri ci capiterà di scrivere $A\le B$
per indendere che ogni elemento di $A$ è minore o uguale ad ogni elemento di $B$
oppure $A+B$ per intendere l'insieme di tutti i numeri che si ottengono sommando
un numero di $A$ ad un numero di $B$.

\section{insiemi infiniti}

La teoria degli insiemi è stata introdotta da Cantor (e poi formalizzata
da Whitehead e Russel) per definire rigorosamente come possono essere
manipolati gli insiemi infiniti. Bisogna però innanzitutto assicurarsi
di avere almeno un insieme infinito perché altrimenti, con gli assiomi
che abbiamo introdotto fin'ora, non c'è nessuna garanzia che tali insiemi esistano.

Tipicamente si assume l'esistenza dell'insieme $\NN$ dei numeri naturali: $0,1,2,3,\dots$
Una volta assunta l'esistenza dell'insieme $\NN$ si potrà costruire l'insieme
$\ZZ$ dei numeri interi (che comprendono anche i numeri negativi) quindi
l'insieme $\QQ$ dei numeri razionali (le frazioni) e poi,
l'insieme $\RR$ dei numeri reali.
Siccome queste costruzioni sono molto faticose
e richiederebbero molto tempo per essere fatte in modo rigoroso, noi
assumeremoda subito (nella sezione~\ref{sec:reali})
l'esistenza dei numeri reali $\RR$ e da lì costruiremo,
come sottoinsiemi di $\RR$ gli insiemi $\NN$, $\ZZ$ e $\QQ$.

\begin{definition}[cardinalità]
Diremo che gli insiemi $A$ e $B$ hanno la stessa \myemph{cardinalità}
e scriveremo $\# A = \# B$
se esiste una funzione bigettiva $f\colon A \to B$.
Diremo che l'insieme $A$ ha cardinalità minore o uguale a quella di $B$
e scriveremo $\#A \le \#B$ se esiste una funzione iniettiva $f\colon A \to B$.
Se invece non esiste una funzione iniettiva $\colon A \to B$ scriveremo
$\#A > \#B$.

Un insieme $A$ per cui risulta $\#A \le \#\NN$ si dice essere \emph{numerabile}
(perché ad ogni elemento di $A$ può essere associato, in modo univoco, un numero
naturale).
\end{definition}

Come suggerito dalla notazione utilizzata si può verificare (cosa non ovvia)
che se $\#A \le \#B$ e $\#B \le \#C$ allora $\#A \le \#C$ \cite[teorema di Cantor-Bernstein]{appunti_logica}. Cantor ha quindi ottenuto i seguenti risultati sorprendenti.

\begin{theorem}[primo metodo diagonale di Cantor]
  L'insieme $\NN \times \NN$ ha la stessa cardinalità di $\NN$. Di conseguenza
  \[
    \# \NN = \# \ZZ = \# \QQ.
  \]
\end{theorem}

Dunque gli insiemi $\ZZ$ e $\QQ$ sono numerabili e, dal punto di vista della cardinalità,
non sono più grandi dell'insieme $\NN$. A questo punto si potrebbe pensare che
tutti gli insiemi infiniti siano numerabili.
Invece preso un qualunque insieme (anche infinito)
esiste un insieme con cardinalità strettamente maggiore.
%
\begin{theorem}[Cantor]
  Se $A$ è un qualunque insieme allora $\# \mathcal P(A)> \# A$.
\end{theorem}
%
Inoltre un esempio di insieme non numerabile è
proprio $\RR$, l'insieme a cui dedicheremo il nostro studio.
%
\begin{theorem}[secondo metodo diagonale di Cantor]
Risulta  $\#\RR > \#\NN$.
\end{theorem}
%
Per le dimostrazioni si può fare riferimento a \cite{appunti_logica}.

\section{la retta dei numeri reali}
\label{sec:reali}

L'insieme $\RR$ dei numeri reali è un modello della retta geometrica che,
a sua volta, viene utilizzata per modellizzare tutte le quantità che si ottengono
da misure fisiche. Dunque l'esistenza di un insieme $\RR$ con le proprietà
che andremo ad elencare nella sezione seguente
può essere intuitivamente giustificata dal processo con cui
si costruisce (fisicamente!) un righello. Presa una retta si inizia col segnare
su di essa un punto di riferimento che chiamiamo $0$. Dopodiché osserviamo che
il punto $0$ (come ogni altro punto) divide la retta in due parti. In modo arbitrario
chiamiamo positivi i punti che si trovano da una parte e negativi i punti che
si trovano dall'altra parte. Sulla semiretta dei numeri positivi scegliamo, arbitrariamente,
un punto $1$. Il segmento compreso tra i punti $0$ e $1$ sarà la nostra unità di
misura.

L'addizione viene definita utilizzando i movimenti rigidi.
Dati due punti qualunque $x$ e $y$ sulla nostra retta sarà possibile
traslare la retta lungo se stessa
(fisicamente utilizzando un secondo righello che possa essere sovrapposto al primo)
in modo da mandare il punto $0$ nel punto $x$. Il punto $y$ andrà allora nel
punto $x+y$.

Per definire la moltiplicazione utilizzeremo il riscalamento, che può
essere ottenuto, fisicamente, utilizzando ad esempio un pantografo.
Dati i punti $x$ e $y$ sulla retta consideriamo il riscalamento (o dilatazione)
che lasciando fissato il punto $0$ manda il punto $1$ nel punto $x$. Il punto $y$
andrà allora nel punto $x\cdot y$.

Con questa interpretazione tutte le proprietà che di seguito vengono assunte come
valide possono essere interpretate geometricamente (o fisicamente).
Ad esempio la proprietà distributiva:
\[
  x \cdot (y +z) = x \cdot y + x \cdot z.
\]
si giustifica con il fatto (fisicamente ovvio) che se prendo due segmenti
li riscalo e poi li affianco ottengo un segmento sovrapponibile a quello che
si ottiene prima affiancando i due segmenti e poi riscalandoli.

\section{assiomi dei numeri reali}

Supponiamo esista un insieme $\RR$
\mymargin{$\RR$}%
su cui sono definite le
operazioni $+$ (addizione) e $\cdot$ (moltiplicazione)
e la relazione d'ordine $\le$ che
lo rendono un \emph{campo ordinato continuo}
come specificato nelle seguenti definizioni.
Gli elementi di tale insieme verranno chiamati
\myemph{numeri reali}.

\begin{definition}[campo]\label{def:field}
\label{def:campo}%
Si dice \myemph{campo}
un insieme $X$ su cui sono definite le operazioni di addizione $+$ e
moltiplicazione $\cdot$ che soddisfano le proprietà
per ogni $x,y,z\in X$:
\begin{enumerate}
\item associativa: $(x+y)+z = x + (y+z)$, $(x\cdot y)\cdot z = x \cdot (y \cdot z)$;
\item commutativa: $x+y=y+x$, $x\cdot y = y \cdot x$;
\item distributiva: $x\cdot (y+z) = x\cdot y + x \cdot z$;
\item esistenza degli elementi neutri: $0,1\in X$,
$0\neq 1$, $0+x = x$, $1\cdot x = x$;
\item esistenza dell'opposto: per ogni $x$ esiste $y$ tale che $x+y = 0$;
\item esistenza del reciproco: per ogni $x\neq 0$ esiste $y$ tale che $x \cdot y = 1$.
\end{enumerate}
\end{definition}

\begin{definition}[ordine totale]
\label{def:order}
Si dice \myemph{ordine!totale}
una relazione $\le$ con le seguenti proprietà
\mymargin{$\le$}
\begin{enumerate}
\item dicotomica: $x \le y$ o $y \le x$;
\item riflessiva: $x \le x$;
\item antisimmetrica: se $ x\le y$ e $y \le x$ allora $x=y$;
\item transitiva: se $x\le y $ e $ y \le z$ allora $x\le z$.
\end{enumerate}
Un insieme su cui è definita una relazione di
ordine totale si dice essere \emph{totalmente ordinato}.
\end{definition}

Definiamo $x<y$ se $x\le y$ e $x \neq y$ e definiamo le relazioni
inverse $x \ge y$ se $y\le x$ e $x>y$ se $y<x$.
\mymargin{$\ge$ $<$ $>$}

\begin{definition}[campo ordinato]
\label{def:campo_ordinato}%
Un campo su cui è definito un ordinamento totale
si dice essere un \myemph{campo!ordinato}
se le operazioni e l'ordinamento sono compatibili
nel senso che
valgono le seguenti proprietà:
\begin{enumerate}
\item positività: se $x\ge 0$ e $y \ge 0$ allora $x+y \ge 0$ e $x\cdot y\ge 0$;
\item monotonia: se $x \ge y$ allora $x+z \ge y+z$.
\end{enumerate}
\end{definition}

\begin{definition}[proprietà di Dedekind o continuità]
\label{def:dedekind}
\index{ordinamento!continuo}
\mymark{***}
Diremo che un insieme $X$ totalmente ordinato è
\emph{continuo} o \myemph{Dedekind-completo}
se
dati $A$ e $B$ sottoinsiemi non vuoti di $X$ tali che $A \le B$
(cioè: per ogni $a \in A$ e per ogni $b\in B$ vale $a\le b$) allora esiste
$x\in X$ tale che $A\le x \le B$ (cioè per ogni $a\in A$ e per ogni $b\in B$
vale $a\le x \le b$).
\end{definition}

L'insieme $\RR$ dei numeri reali soddisfa dunque, per ipotesi,
tutte le definizioni precedenti.
La proprietà di continuità, come vedremo,
è quella che sta alla base
dell'analisi matematica, ma prima di esaminare in dettaglio
tale proprietà, vediamo le proprietà algebriche di $\RR$.

\begin{theorem}
In un campo ordinato
valgono le seguenti
familiari proprietà:
\begin{enumerate}
  \item l'opposto e il reciproco sono unici
  (denotiamo con $-x$ l'unico opposto di $x$ e con $x^{-1}$ l'unico inverso di $x\neq 0$);
  \item $-(-x) = x$, $\enclose{x^{-1}}^{-1}$;
  \item $x \cdot 0 = 0$;
  \item $x\ge 0 \iff -x \le 0$;
  \item $(-x)\cdot y = -(x\cdot y)$;
  \item $-x = (-1)\cdot x$;
  \item $(-1)\cdot(-1) = 1$;
  \item $x\cdot x \ge 0$;
  \item $1 > 0$;
  \item se $x\cdot y = 0$ allora $x = 0$ o $y = 0$;
  \item se $x>0$ e $y>0$  allora $x\cdot y > 0$.
\end{enumerate}
\end{theorem}
%
\begin{proof}
\begin{enumerate}
\item
Supponiamo $y$ e $z$ siano due opposti di $x$ cioè $x+y=0$, $x+z=0$.
Allora da un lato $x+y+z = 0+z = z$, dall'altro $x+y+z = y+x+z= y+ 0 = y$.
Dunque $y=z$. Dimostrazione analoga si può fare per il reciproco.

\item
Se $x$ è opposto di $y$ allora $y$ è opposto di $x$ in quanto la somma
è commutativa. Dunque l'opposto di $-x$ è $x$ cioè $-(-x)=x$. Lo stesso
vale per il reciproco.

\item
Si ha
\[
x\cdot 0 = x \cdot 0 + x + (-x) %= x\cdot 0 + x\cdot 1 + (-x)
=x\cdot(0+1) + (-x) = x + (-x) = 0.
\]

\item
Se $x\ge 0$ sommando ad ambo i membri $-x$ si ottiene $x+(-x) \ge 0 + (-x)$
cioè $0 \ge -x$. Sommando $x$ ad ambo i membri si riottiene $x\ge 0$.


\item
Osserviamo che $(-x)\cdot y + x\cdot y = ((-x)+x)\cdot y = 0$ dunque $(-x)\cdot y$ è l'opposto di $x\cdot y$.

\item
Dunque $(-1)\cdot x = - (1 \cdot x) = - x$

\item
e per $x=-1$ si ottiene $(-1)\cdot(-1) = -(-1) = 1$.

\item
Si ha
\[
(-x)\cdot(-x) = (-1)\cdot x \cdot (-1)\cdot x = x\cdot x.
\]
Dunque se $x\ge 0$ per assioma di positività
abbiamo $x\cdot x\ge 0$ e se $x\le 0$ abbiamo $-x\ge 0$ e quindi
$x\cdot x = (-x)\cdot(-x) \ge 0$.

\item
In particolare per $x=1$ otteniamo $1\ge 0$.
Essendo inoltre per assioma $0\neq 1$ otteniamo $1> 0$.

\item
Se fosse $x\cdot y = 0$ e $x\neq 0$ allora $x$ avrebbe inverso $x^{-1}$
e avremmo:
\[
  y = x^{-1} \cdot x \cdot y = x^{-1}\cdot 0 = 0.
\]
Dunque o $x=0$ oppure $y=0$.

\item
Se $x>0$ e $y>0$ allora $x\ge 0$ e $y\ge 0$ da cui $x\cdot y\ge 0$.
Se fosse $x\cdot y=0$ uno dei due fattori si dovrebbe annullare
cosa che abbiamo escluso per ipotesi.
\end{enumerate}
\end{proof}

\begin{definition}[valore assoluto]
\mymark{***}
Definiamo il \myemph{valore assoluto} $\abs{x}$ di un numero $x\in \RR$ nel seguente modo
\[
\abs{x} =
\begin{cases}
  x & \text{se $x\ge 0$}, \\
  -x & \text{se $x<0 $}.
\end{cases}
\]
\end{definition}

\begin{proposition}[proprietà del valore assoluto]
\mymark{**}
Si ha
\begin{enumerate}
\item $\abs{x}\ge 0$ (positività)
\item $\big\lvert\abs{x}\big\rvert = \abs{x}$ (idempotenza)
\item $\abs{-x} = \abs{x}$ (simmetria)
\item $\abs{x\cdot y} = \abs{x}\cdot \abs{y}$ (omogenità)
\item $\abs{x+y} \le \abs{x} + \abs{y}$ (convessità)
\item $\abs{x-y} \le \abs{x-z} + \abs{z-y}$ (disuguaglianza triangolare)
\item $\big\lvert\abs{x}-\abs{y}\big\rvert \le \abs{x-y}$ (disuguaglianza triangolare inversa)
\end{enumerate}
Useremo inoltre spesso la seguente equivalenza (valida
anche con $<$ al posto di $\le$). Se $r\ge 0$ allora
\[
 \abs{x-y} \le r
 \iff
 y - r \le x \le y + r.
\]
\end{proposition}
%
\begin{proof}
\mymark{*}
Le prime quattro proprietà sono immediate conseguenze della definizione.

Dimostriamo innanzitutto l'ultima osservazione.
Se $x\ge y$ allora $x-y\ge 0$ e quindi $\abs{x-y} \le r$ è
equivalente a $x-y\le r$ cioè $x\le y+r$.
Se $x<y$ allora $x-y<0$ e quindi $\abs{x-y} \le r$ è
equivalente a $y-x \le r$ cioè $x\ge y-r$.
Viceversa se $y-r \le x \le y+r$ allora vale sia $x-y \le r$ che $y-x \le r$ e dunque $\abs{x-y}\le r$.

Osserviamo allora che per la precedente osservazione applicata
a $\abs{x-0} \le \abs{x}$ si ottiene
\[
  -\abs{x} \le x \le \abs{x}
\]
e sommando la stessa disuguaglianza con $y$ al posto di $x$ si
ottiene
\[
  -(\abs{x} + \abs{y}) \le x + y \le \abs{x} + \abs{y}
\]
che è equivalente alla proprietà di convessità:
\[
  \abs{x+y} \le \big\lvert\abs{x} + \abs{y}\big\rvert = \abs{x} + \abs{y}.
\]

Ponendo $y=z-x$ nella disuguaglianza precedente, si ottiene
\[
  \abs{z} \le \abs{x} + \abs{z-x}
\]
da cui
\[
  \abs{z} - \abs{x} \le \abs{z-x}.
\]
Scambiando $z$ con $x$ si ottiene la disuguaglianza opposta
e mettendole assieme si ottiene
la disuguaglianza triangolare inversa:
\[
\big\lvert \abs{z}-\abs{x} \big\rvert  \le \abs{z-x}.
\]

La disuguaglianza triangolare segue dalla convessità:
\[
 \abs{x-y} = \abs{x-z + z-y} \le \abs{x-z} + \abs{z-y}.
\]
\end{proof}

Osserviamo che dal punto di vista geometrico
$\abs{x-y}$ rappresenta la \emph{distanza} tra i punti
$x$ e $y$ sulla retta reale.

\begin{comment}
%% si potrebbe dimostrare la continuità delle quattro
%% operazioni per semplificare la definizione di
%% radice quadrata
Avendo definito una distanza tra i punti i $\RR$
vogliamo ora osservare che le quattro operazioni
$+$, $-$, $\cdot$, $/$ sono continue nel senso
che il risultato dell'operazione cambia di poco
se modifichiamo abbastanza poco gli operandi.
Formalmente possiamo dare la seguente.

\begin{definition}[operazione continua]
\index{operazione!continua}
Una operazione\footnote{
Per \emph{operazione} su un insieme $X$
si intende una funzione $*\colon A\subset X\times X \to X$
definita su un sottoinsieme $A$ delle coppie
di elementi di $X$.}
$*$ su $\RR$ si dice essere \emph{continua}
se per ogni $\eps>0$ esiste $\delta>0$ tale
che se $\abs{x-x'}<\delta$ e $\abs{y-y'<\delta}$
allora $\abs{x*y - x'*y} < \eps$.
\end{definition}

\begin{theorem}[continuità delle quattro operazioni]
In $\RR$ le operazioni $+$, $-$, $\cdot$, $/$ sono continue.
\end{theorem}
%
\begin{proof}
Per la somma la questione è semplice.
Se $\abs{x-x'}<\delta$ e $\abs{y-y'}<\delta$
si ha infatti
\[
 \abs{(x+y) - (x'-y')}
 = \abs{x-x' + y-y'}
 \le \abs{x-x'} + \abs{y-y'} \le 2\delta.
\]
Basterà quindi scegliere $\delta=\eps/2$ per
ottenere la continuità.

Per il prodotto si ha:
\begin{align*}
\abs{x\cdot y - x' \cdot y'}
& = \abs{x\cdot y - x \cdot y' + x \cdot y' - x'\cdot y'}
= \abs{x(y-y') + (x-x')\cdot y'}
\le \abs{x}\cdot\abs{y-y'} + \abs{x-x'}\cdot\abs{y'} \\
& \le \abs{x}\delta + \delta\abs{y'}
....
\end{align*}
\end{proof}
\end{comment}

Come applicazione dell'assioma di continuità possiamo mostrare l'esistenza
della \myemph{radice quadrata}.
Più avanti, con qualche strumento in più, rivedremo più in generale
la costruzione della radice $n$-esima.

\begin{theorem}[radice quadrata]
\label{th:radice_quadrata}
\mymark{***}
Dato $y\ge 0$ esiste un unico $x\ge 0$ tale che $x^2=y$.
Tale $x$ verrà denotato con $\sqrt y$, \emph{radice quadrata} di $y$.
\mymargin{$\sqrt{\cdot}$}
\end{theorem}
\begin{proof}
\mymark{*}
Se $y=0$ allora è facile verificare che $x^2=y$ ha come unica soluzione $x=0$.
Supponiamo allora $y>0$ e
consideriamo i seguenti due insiemi
\[
  A = \{x\ge 0 \colon x^2 \le y\},\qquad
  B = \{x\ge 0 \colon x^2 \ge y\}
\]
e verifichiamo che soddisfino le ipotesi dell'assioma di continuità.
Innanzitutto $0\in A$ e quindi $A$ non è vuoto.
Neanche $B$ è vuoto in quanto $y+1\in B$,
infatti essendo $y+1\ge 1$ si ha
$(y+1)^2 \ge y+1$. Verifichiamo inoltre che $A \le B$.
Preso $a\in A$ e $b\in B$ si ha $a^2 \le y \le b^2$.
Se fosse $a>b$ dovremmo avere $a^2>b^2$, dunque $a \le b$.

Dunque possiamo applicare l'assioma di continuità
che ci garantisce l'esistenza di $z\in \RR$ tale che $A \le z \le B$.
Vogliamo ora verificare che $z^2 = y$.

Ci servirà innanzitutto sapere che $z>0$. Se $y\ge 1$ si avrebbe $1\in A$
e dunque $z\ge 1$ essendo $z\ge A$. Se $y<1$ allora $y^2 < y$ e dunque $y^2 \in A$
da cui si ottiene $z\ge y^2 > 0$.

Se fosse $z^2 < y$ vorremmo dimostrare che esiste $\eps>0$ tale che
$(z+\eps)^2 \le y$.
Questo succede se $(z+\eps)^2 = z^2 + 2 \eps z + \eps^2 \le y$
e si può ottenere, ad esempio,
imponendo che sia $2\eps z \le (y-z^2)/2$ e $\eps^2 \le (y-z^2)/2$.
Cioè (ricordiamo che $z>0$) se $\eps \le (y-z^2)/(4z)$ e $\eps \le 1$
(in modo che $\eps^2 \le \eps$)
e $\eps \le (y-z^2)/2$. Dunque possiamo
trovare $\eps>0$
tale che
\[
\eps \le 1, \qquad
\eps \le \frac{y-z^2}{4z}, \qquad
\eps \le \frac{y-z^2}2
\]
(basta prendere il più piccolo dei tre numeri)
si osserva allora
che vale $(z+\eps)^2\le y$.
Dunque $z+\eps \in A$ e dunque non può essere $z\ge A$.

Se fosse $z^2 > y$ vorremmo dimostrare che esiste $\eps>0$ tale che
$(z-\eps)^2 \ge y$.
Questo succede se $(z-\eps)^2 = z^2 - 2\eps z + \eps^2 \ge y$.
E' quindi sufficiente che sia $z^2 - 2 \eps z \ge y$ ovvero basta scegliere
\[
  \eps = \frac{z^2-y}{2z}.
\]
Ma allora se $(z-\eps)^2\ge y$ si ha $z-\eps \in B$ e dunque non può
essere $z \le B$.

Rimane dunque l'unica possibilità che sia $z^2 = y$, come volevamo dimostrare.

Se ci fosse un altro $w\ge 0$ tale che $w^2 = y$ si avrebbe $w^2 - z^2=0$ ovvero
$(w-z)(w+z)=0$ da cui (ricordando che $z>0$ e quindi $w+z\neq 0$)
si ottiene $w-z=0$. Dunque $w=z$.
\end{proof}


\section{i numeri naturali, interi, razionali}

\begin{definition}[numeri naturali]
\label{def:naturali}
\mymargin{numeri naturali}
Un sottoinsieme $A\subset \RR$ si dice essere \emph{induttivo}
se valgono le due proprietà:
\begin{gather*}
  0 \in A, \\
  n\in A \implies n+1 \in A.
\end{gather*}
La famiglia di tutti i sottoinsiemi induttivi di $\RR$ non è vuota
in quanto $\RR$ stesso è induttivo. Definiamo $\NN$ come l'intersezione
di tutti i sottoinsiemi induttivi di $\RR$ (ovvero: il più piccolo sottoinsieme induttivo di $\RR$).
\mymargin{$\NN$}
\end{definition}

Risulta immediato dimostrare che l'insieme $\NN$ così definito
soddisfa gli assiomi di Peano (si veda \cite{appunti_logica})
in particolare vale il seguente.

\begin{theorem}[principio di induzione]
Se $P(n)$ è un predicato nella variabile $n\in \NN$ tale che:
\begin{enumerate}
\item $P(0)$ è vero;
\item per ogni $n\in \NN$ se $P(n)$ è vero allora anche $P(n+1)$ è vero.
\end{enumerate}
Allora $P(n)$ è vero per ogni $n\in \NN$.
\end{theorem}
%
\begin{proof}
Si consideri l'insieme $I = \{n \in \NN\colon P(n) \text{ è vera}\}$.
Le ipotesi del principio di induzione garantiscono che $I$ sia induttivo
(definizione~\ref{def:naturali})
e quindi che $\NN \subset I$. Dunque $P(n)$ è vera per ogni $n\in \NN$.
\end{proof}

\begin{theorem}[definizione per induzione]
Sia $X$ un insieme, sia $\alpha\in X$ e sia $g\colon X\to X$ una funzione.
Allora esiste una unica funzione $f\colon \NN \to X$ tale che
\begin{equation}\label{eq:4835628}
  \begin{cases}
    f(0) = \alpha, \\
    f(n+1) = g(f(n)).
  \end{cases}
\end{equation}

Più in generale se abbiamo $\alpha\in X$ e una funzione $g\colon X\times \NN \to X$
esisterà una unica funzione $f\colon \NN \to X$ tale che
%
\begin{equation}
  \begin{cases}
    f(0) = \alpha, \\
    f(n+1) = g(n, f(n)).
  \end{cases}
\end{equation}
\end{theorem}
%
\begin{proof}
Si rimanda agli appunti di logica \cite{appunti_logica}
per una dimostrazione formale.
Informalmente sarà possibile definire una
funzione $f_n$ sull'insieme dei primi $n+1$ numeri naturali
che soddisfi le proprietà richieste. Bisognerà poi
fare l'unione delle funzioni $f_n$ per ottenere una funzione
definita su tutto $\NN$.
\end{proof}


%\section{potenza intera, fattoriale, coefficiente binomiale}

A partire da $\NN$ si può costruire l'insieme $\ZZ$ dei
\myemph{numeri interi}
e l'insieme $\QQ$ dei \myemph{numeri razionali}:
\begin{align*}
  \ZZ
  \mymargin{$\ZZ$}
    &= \NN \cup (-\NN)
    = \{x\in \RR\colon \exists n\in\NN\colon (x=n) \lor (x=-n)\}, \\
  \QQ
  \mymargin{$\QQ$}
    &= \frac{\ZZ}{\NN\setminus\{0\}}
    = \left\{x \in \RR\colon \exists p\in \ZZ\colon \exists q \in \NN\setminus\{0\}\colon x = \frac{p}{q}\right\}.
\end{align*}

Si avrà dunque $\NN \subset \ZZ \subset \QQ \subset \RR$.

\begin{definition}[potenza intera]
\mymargin{potenza intera}
Dato $x \in \RR$ possiamo definire la potenza $x^n$ per ogni
$n\in \NN$ come l'unica funzione che soddisfa
\mymargin{$x^n$}
la seguente definizione per induzione
\[
\begin{cases}
  x^0 = 1\\
  x^{n+1} = x\cdot x^n.
\end{cases}
\]
Per $x\in \RR\setminus\{0\}$ possiamo anche definire $x^{-n}$ con $n\in \NN$
come
\[
x^{-n} = \frac{1}{x^n}.
\]
Risulta quindi che $x^n$ è definito per ogni $n\in \ZZ$ se $x\neq 0$.
\end{definition}

In base alla definizione si ha $x^0 = 1$, $x^1=x$, $x^2=x\cdot x$,
$x^3=x\cdot x \cdot x$ e così via. Dunque in generale
$x^n$ è il prodotto di $n$ fattori tutti uguali a $x$.
Si osservi in particolare che abbiamo definito $0^0=1$.
In alcuni testi si preferisce lasciare indefinito $0^0$
ma vedremo che questa definizione risulterà
molto utile e naturale.

Si osservi che la notazione
$x^{-1}$ appena introdotta coincide
con l'inverso moltiplicativo che, per questo motivo, avevamo già denotato
con $x^{-1}$.

\begin{theorem}[proprietà delle potenze intere]
Per ogni $x,y\in \RR$, e per ogni $n,m \in \NN$
valgono le seguenti proprietà:
\begin{enumerate}
  \item  $x^{n+m} = x^n \cdot x^m$;
  \item $(x^n)^m = x^{n\cdot m}$;
  \item $(x\cdot y)^n = x^n \cdot y^n$;
  \item $\displaystyle \enclose{\frac{x}{y}}^n = \frac{x^n}{y^n}$ se $y\neq 0$.
\end{enumerate}
Le stesse proprietà valgono per $n,m \in\ZZ$ se $x\neq 0$, $y\neq 0$.
\end{theorem}
%
\begin{proof}
Dimostriamo, come esempio, solamente la prima proprietà: $x^{n+m} = x^n \cdot x^m$.
Fissato $m\in \NN$ procediamo per induzione su $n$.
Se $n=0$ si ha $x^{0+m} = x^m = x^m \cdot 1 = x^m \cdot x^0$.
Supponendo la proprietà sia stata verificata per $n$, verifichiamo
che vale anche con $n+1$ al posto di $n$. Si ha infatti
\[
 x^{(n+1)+m} = x^{n+m+1} = x \cdot x^{n+m} = x \cdot x^n \cdot x^m
  = x^{n+1} \cdot x^m.
\]
\end{proof}

\begin{exercise}
Utilizzando il principio di induzione
si dimostri che $2^n > n$ per ogni $n\in \NN$.
\end{exercise}

\begin{definition}[fattoriale]
Possiamo definire il \myemph{fattoriale} di un numero $n$, indicato con $n!$, come il prodotto
dei numeri naturali da $1$ a $n$:
\[
  n!  = 1 \cdot 2 \cdot 3 \cdots n.
\]
Se $n=0$ il prodotto è vuoto e quindi $0!=1$, l'elemento neutro del prodotto.
La definizione formale si ottiene mediante una definizione per induzione:
\[
  \begin{cases}
    0! = 1 \\
    (n+1)! = (n+1) \cdot n!
  \end{cases}
\]

A volte sarà utile considerare anche i prodotti di solamente i numeri
pari o i numeri dispari fino ad un certo numero $n$. Questo
si chiama \myemph{doppio fattoriale} e si indica con $n!!$:
\begin{align*}
  (2n)!! &= 2 \cdot 4 \cdot 6 \cdots (2n) \\
  (2n+1)!! &= 1 \cdot 3 \cdot 5 \cdots (2n+1).
\end{align*}
\end{definition}

\begin{remark}
Si osservi che risulta
\[
  (2n)!! = (2\cdot 1) \cdot (2\cdot 2) \cdot (2\cdot 3) \cdots (2\cdot n)
        = 2^n \cdot n!
\]
mentre
\[
  (2n+1)!! = 1 \cdot \frac{2}{2} \cdot 3 \cdot \frac{4}{4}
\cdot 5 \cdot \frac{6}{6} \dots \frac{2n}{2n} \cdot (2n+1)
= \frac{(2n+1)!}{(2n)!!}
 = \frac{(2n+1)!}{2^n \cdot n!}.
\]
Queste formule permettono di esprimere il doppio fattoriale utilizzando
il fattoriale (singolo) e le potenze.
\end{remark}

\begin{exercise}
Si dia una definizione per induzione del doppio fattoriale
e si dimostrino, per induzione, le formule nell'osservazione precedente.
\end{exercise}

In generale è possibile introdurre una notazione per ripetere le operazioni
di somma e prodotto un numero arbitrario di volte:
\begin{align*}
  \sum_{k=1}^n f(k) &= f(1) + f(2) + \dots + f(n) \\
  \prod_{k=1}^n f(k) &= f(1) \cdot f(2) \cdots f(n).
\end{align*}
Formalmente questo può essere fatto tramite una definizione per induzione,
osservando che ogni somma (o prodotto) di $n$ numeri si ottiene mediante
la somma dei primi $n-1$ a cui si aggiunge (o si moltiplica) l'ultimo numero.

\begin{definition}[somme e prodotti]
Se $a,b\in \ZZ$, $a\le b$ e $f\colon \{a, a+1, a+2, \dots, b\}\to X$
è una funzione a valori in un insieme $X$ in cui è definita una
operazione $+$ di addizione (ad esempio $\RR$)
si definisce
\[
  \sum_a^b f
  \qquad \text{ovvero} \qquad
  \sum_{k=a}^b f(k).
\]
tramite la definizione per induzione:
\[
    \displaystyle \sum_a^a f = f(a), \qquad
    \displaystyle \sum_{a}^{n+1} f = \enclose{\sum_a^n f} + f(n+1).
\]
Analogamente si definisce
\[
  \prod_a^b f
  \qquad\text{ovvero}\qquad
  \prod_{k=a}^b f(k)
\]
quando su $X$ è definita una operazione di moltiplicazione,
ponendo:
\[
    \displaystyle \prod_{a}^a f = f(a), \qquad
    \displaystyle \prod_{a}^{n+1} f = \enclose{\prod_a^n f} \cdot f(n+1).
\]
\end{definition}

La definizione precedente ci permette, ad esempio, di definire le potenze e il fattoriale
come prodotti ripetuti, almeno quando $n\ge 1$:
\[
  x^n = \prod_{k=1}^n x, \qquad
  n! = \prod_{k=1}^n k.
\]

\begin{definition}[coefficiente binomiale]
\label{def:binomiale}
\mymark{***}
Definiamo per ogni $n\in \NN$ e per ogni $k\in \NN$, $k\le n$
il \myemph{coefficiente binomiale}
\[
{n \choose k}
=\frac{n!}{k!(n-k)!}.
\]
Per convenzione può essere utile porre
${n \choose k}=0$ se $k\in \ZZ$ con $k< 0$ o $k>n$.
Questa definizione verrà estesa nella definizione~\ref{def:binomiale_reale}.
\end{definition}
%
Si osservi che risulta
\begin{align*}
\frac{n!}{(n-k)!} &= \frac{n (n-1) \cdots (n-k+1)(n-k) \cdots 2\cdot 1}{(n-k) \cdots 2\cdot 1}\\
 &= n (n-1) \cdots (n-k+1) = \prod_{j=1}^k (n+1-k)
\end{align*}
e questo permette in pratica di calcolare il coefficiente binomiale ${n \choose k}$
svolgendo solamente $k$ prodotti a numeratore e a denominatore, indipendentemente
da quanto è grande $n$.

\begin{theorem}[triangolo di Tartaglia]
\mymark{*}
Per ogni $n\in \NN$ e $k \in \NN$ con $1 \le k \le n$ si ha
\[
  {n+1 \choose k} =
      {n \choose k-1} + {n \choose k}
\]
mentre
\[
  {n+1 \choose 0} = 1 = {n+1 \choose n+1}
\]
\end{theorem}
%
\begin{proof}
La seconda parte si ottiene direttamente dalla definizione.
Per la prima parte si ha:
\begin{align*}
{n \choose k-1} + {n \choose k}
&= \frac{n!}{(k-1)!(n-k+1)!} + \frac{n!}{k!(n-k)!} \\
&= \frac{k\cdot n! + (n-k+1)\cdot n!}{k!(n-k+1)!} \\
&= \frac{(n+1)\cdot n!}{k!(n+1-k)!}
= {n+1 \choose k}.
\end{align*}
\end{proof}

In base al teorema precedente i coefficienti binomiali si possono
elencare come nella tabella~\ref{tab:binomiali}:
ogni riga inizia e finisce con il numero $1$
e ogni termine intermedio coincide con la somma dei
due termini nella riga precedente sopra e
a sinistra del numero considerato.

\begin{table}
\begin{tabular}{c|ccccccccc}
$\displaystyle{n \choose k}$& 0 & 1 & 2 & 3 & 4 & 5 & 6 & $k$ &\\ \hline
  0 & 1 &   &   &   &   &   &   & &\\
  1 & 1 & 1 &   &   &   &   &   & &\\
  2 & 1 & 2 & 1 &   &   &   &   & &\\
  3 & 1 & 3 & 3 & 1 &   &   &   & &\\
  4 & 1 & 4 & 6 & 4 & 1 &   &   & &\\
  5 & 1 & 5 & 10& 10& 5 & 1 &   & &\\
  6 & 1 & 6 & 15& 20& 15& 6 & 1 & &\\
$n$ &$\vdots$&&   &   &   &   &   & $\ddots$ &
\end{tabular}
\caption{Il triangolo di Tartaglia (o di Pascal).}
\label{tab:binomiali}
\end{table}

\begin{theorem}[sviluppo binomiale]
\mymark{***}
Se $a,b\in \RR$ e $n\in \NN$ si ha:
\[
(a+b)^n = \sum_{k=0}^n {n \choose k} a^k \cdot b^{n-k}.
\]
\end{theorem}
%
\begin{proof}
Lo dimostriamo per induzione su $n$.
Per $n=0$ l'uguaglianza è soddisfatta per verifica diretta (ambo i membri sono uguali ad $1$).

Supponendo valida l'uguaglianza per un certo $n\in \NN$ proviamo a verificarla
per $n+1$:
\begin{align*}
(a+b)^{n+1}
&= (a+b)\cdot (a+b)^n
 = (a+b) \sum_{k=0}^n {n \choose k} a^k \cdot b^{n-k}\\
&= \sum_{k=0}^n {n \choose k} a^{k+1}\cdot b^{n-k}
   + \sum_{k=0}^n {n \choose k} a^k \cdot b^{n-k+1} \\
&= \sum_{k=1}^{n+1} {n \choose k-1} a^k \cdot b^{n-k+1}
   + \sum_{k=0}^n {n \choose k}a^k \cdot b^{n-k+1} \\
&= \sum_{k=0}^{n+1} \enclose{{n \choose k-1} + {n \choose k}} a^k \cdot b^{n+1-k}.
\end{align*}
Nell'ultimo passaggio abbiamo sfruttato il fatto che per $k<0$ e per $k>n$ il coefficiente binomiale è nullo.
Sfruttando la relazione del triangolo di Tartaglia si ottiene infine,
come volevamo dimostrare
\[
  = \sum_{k=0}^{n+1}{n+1 \choose k} a^k \cdot b^{n+1-k}.
\]
\end{proof}

\begin{exercise}[interpretazione combinatoria del coefficiente binomiale]
Il numero di sottoinsiemi di $k$ elementi di un insieme con $n$ elementi
è ${n\choose k}$.
\end{exercise}

\begin{exercise}
Provare che
\[
 \sum_{k=0}^n {n \choose k} = 2^n.
\]
\end{exercise}

\section{estremo superiore}

Osserviamo che $\QQ$ è un campo ordinato che però non soddisfa l'assioma
di continuità.
Infatti se consideriamo i due insiemi:
\[
 A = \{x\in \QQ \colon x\ge 0, x^2 \le 2\},
 B = \{x\in \QQ \colon x\ge 0, x^2 \ge 2\}
\]
si può verificare che $A$ e $B$ sono non vuoti, $A \le B$, ma l'elemento
di separazione $\sqrt{2}\in \RR$ non è elemento di $\QQ$, in base al seguente
classico risultato.

\begin{theorem}[Pitagora]
\mymark{**}
L'equazione $x^2=2$ non ha soluzioni in $\QQ$.
\end{theorem}
%
\begin{proof}
\mymark{*}
Supponiamo $x\in \QQ$ sia una soluzione di $x^2=2$.
Allora si potrà scrivere $x=p/q$ con $p\in \ZZ$ e $q\in \NN$, $q\neq 0$.
Possiamo anche supporre che la frazione $p/q$ sia ridotta ai minimi
termini cioè che $p$ e $q$ non abbiano fattori in comune.
Moltiplicando l'equazione
$(p/q)^2=2$ per $q^2$ si ottiene $p^2 = 2 q^2$.
Risulta quindi che $p^2$ è pari.
Ma allora anche $p$ è pari (perché il quadrato di un dispari è dispari).
Ma se $p$ è pari allora $p^2$ è multiplo di quattro.
Ma allora anche $2q^2$ è multiplo di quattro e quindi $q^2$ è pari.
Dunque anche $q$ è pari. Ma avevamo supposto che $p$ e $q$ non avessero
fattori in comune quindi questo non può accadere.
\end{proof}

Abbiamo quindi dimostrato che $\sqrt{2} \in \RR \setminus \QQ$
(diremo che $\sqrt 2$ è \myemph{irrazionale}) e dunque $\RR \neq \QQ$.

\begin{definition}
\mymark{***}
Siano $x \in \RR$ e $A \subset \RR$.
Se $A\le x$ (ovvero $a\le x$ per ogni $a\in A$)
diremo che $x$ è un \myemph{maggiorante} di $A$.
Se $x \le A$ diremo invece che $x$ è un \myemph{minorante} di $A$.
Se $A$ ammette un maggiorante diremo che $A$ è \emph{superiormente limitato},
se $A$ ammette un minorante diremo che $A$ è \emph{inferiormente limitato},
\index{superiormente limitato}
\index{inferiormente limitato}
\index{limitato!superiormente}
\index{limitato!inferiormente}
se $A$ ammette sia maggiorante che minorante diremo che $A$ è \myemph{limitato}.

Se $A \le x$ e $x\in A$ diremo che $x$ è il massimo di $A$,
se $x\le A$ e $x\in A$ diremo che $x$ è il minimo di $A$

Se $x$ è minimo dei maggioranti di $A$ diremo che $x$ è
\myemph[estremo superiore e inferiore]{estremo superiore}
di $A$ se invece $x$ è massimo dei minoranti diremo che $x$ è
\myemph[]{estremo inferiore} di $A$.
\end{definition}

Massimo e minimo di un insieme $A$, se esistono, sono unici.
Infatti se $x$ e $y$ fossero due minimi di $A$ si avrebbe $x\le y$ in
quanto $x\le A$ e $y\in A$. Analogamente si avrebbe $y\le x$ e
quindi $x=y$. Ragionamento analogo se $x$ e $y$ fossero due massimi.
Anche l'estremo superiore e l'estremo inferiore se esistono sono
unici in quanto sono essi stessi un minimo ed un massimo
(rispettivamente dei maggioranti e dei minoranti).

Useremo quindi le notazioni:
\mymargin{$\max$ $\min$ $\sup$ $\inf$}
\[
 \max A, \qquad
 \min A, \qquad
 \sup A, \qquad
 \inf A
\]
per denotare univocamente (quando esistono) il massimo, il minimo,
l'estremo superiore e l'estremo inferiore di un insieme $A$.

Se l'insieme $A$ è finito e non vuoto, il massimo e il minimo esistono
sempre. Se, ad esempio, non esiste il massimo di $A$ significa che scelto
$x_k\in A$ esiste sempre $x_{k+1}\in A$ con $x_{k+1} > x$ e quindi l'insieme
$A$ deve contenere infiniti punti $x_0,x_1, \dots, x_k,\dots $
Ad esempio l'insieme $A = \{x\in \RR\colon 0<x<1\}$ non ha né massimo né
minimo perché per ogni $x\in A$ si ha $\frac x 2<x$, $\frac{1+x}{2}>x$
con $\frac x 2\in A$ e $\frac{1+x}{2}\in A$, dunque nessun $x\in A$ può essere
massimo o minimo.

\begin{theorem}[esistenza del $\sup$]
\label{th:sup}
\mymark{**}
Se $A$ è un insieme non vuoto,
superiormente limitato, allora esiste l'estremo superiore di $A$.
Tale numero $x=\sup A$ è caratterizzato dalle seguenti proprietà
\begin{enumerate}
\item $\forall a\in A\colon x \ge a$;
\item $\forall \eps>0\colon \exists a\in A \colon x < a + \eps$.
\end{enumerate}

Risultato analogo vale per l'estremo inferiore.
\end{theorem}
%
\begin{proof}
\mymark{*}
Consideriamo l'insieme dei maggioranti
$B = \{ b\in \RR \colon b \ge A\}$.
Per ipotesi $B$ è non vuoto e per come è definito risulta $A\le B$.
Dunque dall'assioma di continuità deduciamo l'esistenza di un numero $x\in \RR$
tale che $A\le x \le B$. La prima disuguaglianza $A\le x$ ci dice che $x$ è un
maggiorante e quindi $x\in B$, la seconda $x\le B$ ci dice che $x$ è il minimo
di $B$ e quindi concludiamo che $x$ è l'estremo superiore di $A$.

La prima delle due proprietà caratterizzanti il $\sup$ traduce la condizione
che $x$ sia un maggiorante di $A$. La seconda delle due proprietà esprime il
fatto che $x$ sia il minimo dei maggioranti, infatti se $x$ è il minimo
dei maggioranti significa che nessun numero minore di $x$ è un maggiorante, ovvero
che ogni $x-\eps$ con $\eps>0$ non è un maggiorante, ovvero
che esiste $a\in A$ tale che $a > x-\eps$.
\end{proof}

La seguente proprietà dei numeri reali esprime il fatto
che non esistono gli \emph{infinitesimi} ovvero numeri reali positivi
che siano più piccoli di ogni $1/n$ con $n\in \NN$.

\begin{theorem}[proprietà archimedea dei numeri reali]
\mymark{**}
\mymargin{proprietà!archimedea}
Dato $x\in \RR$ esiste $n\in \NN$ tale che $n > x$.
E se $x>0$ esiste $m\in \NN$ tale che $1/m < x$.
\end{theorem}
%
\begin{proof}
\mymark{*}
Se esistesse $x\in \RR$ tale che $x \ge \NN$
allora $\NN$ sarebbe superiormente limitato.
Dunque avrebbe un estremo superiore $m= \sup \NN$.
Siccome $m$ è il minimo dei maggioranti di $\NN$
e $m-1$ è più piccolo di $m$, allora $m-1$ non è un maggiorante
di $\NN$. Dunque deve esistere $n\in \NN$ tale che $n>m-1$.
Ma allora $n+1 > m$ ed essendo $n+1\in \NN$ troviamo che $m$
non poteva essere un maggiorante di $\NN$.

Dunque per ogni $y\in \RR$ esiste $n\in \NN$ tale che $n>y$.
Se $x\in \RR$ e $x>0$ allora posto $y=1/x$ possiamo trovare
$n\in \NN$ con $n>y = 1/x$ da cui $x > 1/n$.
\end{proof}

\begin{theorem}[parte intera]
\mymark{*}
Dato $x\in \RR$ esiste un unico $m\in \ZZ$ tale che $m-1 \le x < m$.
\end{theorem}
%
\begin{proof}
Supponiamo per un attimo che sia $x\ge 1$.
In tal caso consideriamo l'insieme $A=\{n\in \NN\colon n > x\}$.
Per la proprietà archimedea tale insieme non può essere vuoto e,
per il buon ordinamento di $\NN$ (si vedano gli appunti di logica),
deve avere un minimo $m$.
Dunque $m>x$ (in quanto $m\in A$) e $m\ge 1$ (in quanto $x\ge 1$).
Quindi necessariamente $m-1 \le x$ altrimenti avremmo che $m-1\in A$ e $m$
non poteva essere il minimo. Si ottiene dunque $m-1\le x < m$ come volevamo
dimostrare.

Nel caso fosse $x<1$ possiamo trovare un $N\in \NN$ (sempre per la proprietà archimedea) per cui $x+N \ge 1$. Applicando il ragionamento precedente a $x+N$ si trova comunque il risultato desiderato.
\end{proof}

\begin{definition}[parte intera]
\mymark{**}
\mymargin{parte!intera}
Dato $x\in \RR$ denotiamo con $\lfloor x\rfloor$ l'unico intero
che soddisfa
\mynote{$\lfloor\cdot\rfloor$} %% *** non viene bene nell'indice!
\[
  x - 1 < \lfloor x \rfloor \le x
\]
e denotiamo con $\lceil x \rceil = - \lfloor -x \rfloor$ l'unico intero che soddisfa (verificare!)
\mynote{$\lceil\cdot\rceil$} %% *** non viene bene nell'indice!
\[
  x \le \lceil x \rceil < x + 1.
\]
Si ha dunque
\[
  \lfloor x \rfloor \le x \le \lceil x \rceil
\]
con entrambe le uguaglianze che si realizzano quando $x\in \ZZ$.
I due interi $\lfloor x \rfloor$ e $\lceil x \rceil$
sono la migliore approssimazione intera di $x$ rispettivamente
per difetto e per eccesso.
L'intero più vicino ad $x$ (approssimazione per \myemph{arrotondamento})
è
\[
  \left\lfloor x + \frac 1 2 \right\rfloor
\quad \text{ossia} \quad
  \left\lceil x-\frac 1 2 \right\rceil
\]
(le due espressioni differiscono solamente quando $x$ si trova nel punto medio tra due interi consecutivi, nel qual caso la prima approssima per eccesso e la seconda per difetto).
\end{definition}
In alcuni testi si usa la notazione $[x]$ per denotare la parte intera $\lfloor x \rfloor$ e si definisce
anche la \emph{parte frazionaria}
\[
   \{x\} = x - [x]
\]
per evitare ambiguità con il normale utilizzo delle parentesi
noi preferiremo evitare queste notazioni.

\begin{theorem}[densità di $\QQ$ in $\RR$]
\mymark{*}
\mymargin{densità di $\QQ$}
Dati $x,y \in \RR$ con $x<y$ esiste $q\in \QQ$ tale che $x<q<y$.
\end{theorem}
%
\begin{proof}
Per la proprietà archimedea dei numeri reali essendo $y-x>0$
deve esistere $n\in \NN$ tale che $y-x > 1/n$ così si avrà
\[
    nx + 1 < ny.
\]
Prendiamo allora $m=\lfloor nx + 1\rfloor$ cosicché si abbia
\[
  nx < m \le nx + 1.
\]
Mettendo insieme le due disuguaglianze e dividendo per n si ottiene,
come volevamo dimostrare,
\[
 x < \frac{m}{n} < y.
\]
\end{proof}


\section{reali estesi}

%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%

\begin{definition}[reali estesi]
\mymargin{$\bar{\RR}$}
Denotiamo con $\bar \RR=\RR \cup \{+\infty, -\infty\}$ l'insieme dei numeri reali
\mymargin{$+\infty$, $-\infty$}
a cui vengono aggiunti due ulteriori \emph{quantità} che chiameremo
\emph{infinite} e che denotiamo con $+\infty$ e $-\infty$.
Diremo che $x\in \bar \RR$ è \emph{finito} se $x\in \RR$.
\end{definition}


Estendiamo la relazione d'ordine imponendo che valga
\[
  -\infty \le x \le +\infty, \qquad \forall x \in \bar\RR.
\]

Estendiamo anche la addizione e moltiplicazione
tra reali estesi imponendo che valga per ogni $x\in \bar \RR$
\begin{gather*}
  x + (+\infty) = +\infty, \qquad \text{se $x\neq -\infty$}\\
  x + (-\infty) = -\infty, \qquad \text{se $x\neq +\infty$}\\
  x \cdot (+\infty) = +\infty, \qquad
  x \cdot (-\infty) = -\infty, \qquad \text{se $x>0$} \\
  x \cdot (+\infty) = -\infty, \qquad
  x \cdot (-\infty) = +\infty, \qquad \text{se $x<0$}.
\end{gather*}

Si definiscono anche:
\[
 -(+\infty) = -\infty, \qquad
 -(-\infty) = +\infty, \qquad
 \frac{1}{+\infty} = \frac{1}{-\infty}=0
\]
facendo però attenzione che
questi formalmente non sono \emph{opposto}
e \emph{reciproco} in quanto
su $\bar \RR$ non sono più garantite
le regole: $x + (-x) = 0$ e $x \cdot (1/x) = 1$.
Infatti
le operazioni $(+\infty) + (-\infty)$ e $+\infty \cdot 0$ vengono
lasciate indefinite.

Definiamo anche il valore assoluto: $\abs{+\infty} = \abs{-\infty} = +\infty$.

Possiamo infine definire la sottrazione e la divisione tramite
addizione e moltiplicazione:
\[
  x - y = x + (-y), \qquad \frac{x}{y} = x \cdot \frac{1}{y}.
\]

Possiamo definire gli operatori $\sup$ e $\inf$
anche sugli insiemi illimitati ponendo:
\begin{align*}
  \sup A = +\infty \qquad \text{se $A$ non è superiormente limitato}\\
  \inf A = -\infty \qquad \text{se $A$ non è inferiormente limitato}.
\end{align*}
Osserviamo infatti che su $\bar \RR$ la quantità $+\infty$
è maggiorante di qualunque insieme e $-\infty$ è minorante, dunque
queste definizioni mantengono su $\bar \RR$ le proprietà caratterizzanti:
l'estremo superiore è il minimo dei maggioranti e
l'estremo inferiore è il massimo dei minoranti.
Definiamo infine
\begin{align*}
  \sup \emptyset = -\infty\\
  \inf \emptyset = +\infty.
\end{align*}
Queste ultime definizioni possono essere comprese da un punto di vista
strettamente logico: ogni numero reale è sia maggiorante che minorante
dell'insieme vuoto, dunque il minimo dei maggioranti non esiste in $\RR$
ma in $\bar \RR$ è $-\infty$
e il massimo dei minoranti è $+\infty$.

\section{intervalli}

\begin{definition}[intervallo]
\mymargin{intervallo}
Un insieme $I\subset \RR$ si dice essere un \emph{intervallo}
se soddisfa la \emph{proprietà dei valori intermedi}:
\[
  \text{se $x, y \in I$ e $x<z<y$ allora $z \in I$.}
\]
\end{definition}
\begin{theorem}[caratterizzazione intervalli di $\RR$]
Sia $I$ un intervallo e sia $a=\inf I$, $b=\sup I$. Allora
$z\in I$ se $a < z < b$.
\end{theorem}
%
\begin{proof}
Se $I=\emptyset$ si ha $a>b$ e quindi nessuno $z$ verifica $a<z<b$.
Supponiamo $I\neq \emptyset$ e
sia $a < z < b$.
Visto che $a$ è il massimo dei minoranti di $I$ deve esistere $x \in I$ tale
che $a \le x < z$ altrimenti ogni $x$ tra $a$ e $z$ sarebbe un minorante di $I$
e $a$ non sarebbe il minimo. Analogamente dovrebbe esistere $y\in I$ con $z<y\le b$.
Ma allora, per la proprietà dei valori intermedi anche $z\in I$.
\end{proof}

Il teorema precedente ci dice che una volta identificati i due estermi
di un intervallo, tutti i punti intermedi devono stare nell'intervallo.
Gli estremi, invece, possono essere o non essere inclusi nell'intervallo.
Punti esterni agli estremi non possono invece essere elementi dell'intervallo.
Possiamo quindi caratterizzare tutti gli intervalli di $\bar \RR$
introducendo le seguenti notazioni. Dati $a,b\in \bar \RR$ con $a\le b$
poniamo
\begin{align*}
[a,b] &= \{x\in \bar \RR\colon a \le x \le b\} \\
[a,b) &= \{x\in \bar \RR\colon a \le x < b\} \\
(a,b] &= \{x\in \bar \RR\colon a < x \le b\}\\
(a,b) &= \{x\in \bar \RR\colon a < x < b\}.
\end{align*}
Abbiamo quindi utilizzato le parentesi quadre per indicare che gli estremi
sono inclusi e le parentesi tonde per indicare che gli estremi sono esclusi.
Osserviamo che in alcuni testi si usano le parentesi quadre rovesciate al posto
delle parentesi tonde.

Noi considereremo per lo più intervalli di $\RR$ (non di $\bar \RR$): in tal
caso gli estremi infiniti non potranno mai essere inclusi nell'intervallo.

Per comodità se $b<a$ poniamo
\[
  [a,b] = [b,a], \qquad
  [a,b) = (b,a], \qquad
  (a,b] = [b,a), \qquad
  (a,b) = (b,a).
\]
Si faccia però attenzione che in altri testi gli intervalli con gli estremi
scambiati non vengono definiti oppure vengono considerati vuoti.

%%%%%%%%%%%%%%%%%%%

\section{i numeri complessi}

Dal punto di vista geometrico l'insieme $\CC$ dei \myemph{numeri!complessi}
\index{$\CC$}
può essere visto come un modello del piano euclideo.
Il piano euclideo è uno spazio affine reale di dimensione 2.
Possiamo mettere delle coordinate sul piano se fissiamo un punto $O$ (origine)
e due vettori ortonormali $e_1$, $e_2$. Chiamiamo $0$ il vettore
nullo $OO$ e chiamiamo $1$ il vettore $e_1$.
La retta passante per $O$ con direzione $e_1$ rappresenta l'insieme
dei numeri reali $\RR$.
Chiamiamo $i$ il vettore $e_2$.
La retta passante per $O$ con direzione $e_2$ verrà chiamata
\emph{retta dei numeri immaginari}.

Un generico punto del piano $z$ potrà essere scritto in maniera univoca
nella base scelta: $z = x e_1 + y e_2$ ovvero, per come abbiamo definito $e_1$ ed
$e_2$:
\[
z = x + i y.
\]
Tale $z$ viene chiamato
\emph{numero complesso} con parte reale $x$ e parte immaginaria $y$.
Questa rappresentazione del numero complesso $z$ viene
chiamata \myemph{rappresentazione cartesiana} in quanto definisce
il punto $z$ del piano complesso tramite le sue coordinate cartesiane
$x$ e $y$.
I numeri reali sono \emph{immersi} nei complessi, nel senso che se
$x\in \RR$ allora $z= x + i\cdot 0 = x$ è anche un numero complesso.
Il numero complesso $i = 0 + i\cdot 1$ viene chiamata \myemph{unità immaginaria}
e i numeri complessi della forma $iy$ sono chiamati \emph{immaginari}.
\index{numeri!immaginari}
\index{immaginario}
Un numero
complesso $z = x+iy$ è quindi una somma tra un numero reale ed un numero
immaginario. Il numero reale $x$ viene chiamato \emph{parte reale}
\index{parte!reale}
di $z$ e
si denota con $x=\Re z$.
\mymargin{$\Re z$}
Il numero reale $y$ viene chiamato
\emph{parte immaginaria}
\index{parte!immaginaria}
di $z$ e si denota con $y=\Im z$
\mymargin{$\Im z$}
(osserviamo che la parte immaginaria di un numero complesso è un numero
reale, non immaginario). Dunque $z= \Re z + i \Im z$.

L'insieme dei numeri complessi viene denotato con $\CC$.
Lo spazio $\CC$, per come
è stato costruito, è uno spazio vettoriale reale di dimensione $2$.
Abbiamo quindi già definite la \myemph{addizione}
\index{complessi!addizione}
tra elementi di $\CC$ e la moltiplicazione
tra elementi di $\CC$ ed elementi di $\RR$.
Se $a,b,c,d,t\in \RR$ si ha:
\begin{gather*}
 (a+ib) + (c+id) = (a+c) + i (b+d), \\
 t(a+ib) = ta + itb.
\end{gather*}

Vogliamo estendere la \myemph{moltiplicazione} a tutte le coppie di numeri complessi.
\index{complessi!moltiplicazione}
Imponendo (arbitrariamente) che valga $i\cdot i = -1$ e che rimanga
valida la proprietà distributiva, si ottiene
questa definizione:
\[
   (a+ib) \cdot (c+id) = (ac-bd) + i(ad+bc).
\]

Si può verificare che questa moltiplicazione estende quella "scalare" definita
in precedenza.
E' facile verificare che addizione e moltiplicazione soddisfano le proprietà commutativa associativa e distributiva, $0$ è elemento neutro per la addizione, $1$ è elemento neutro della moltiplicazione.
Si osservi che se $z=x+iy$ non è nullo, allora
\[
  (x+iy) \cdot \frac{x-iy}{x^2+y^2} = 1.
\]
Significa che ogni $z\neq 0$ ammette inverso moltiplicativo e quindi $\CC$ risulta essere un campo.

Osserviamo che su $\CC$ non si definisce una relazione d'ordine perché
in effetti non è possibile definire un ordine "compatibile" con le operazioni
appena definite.

Su $\CC$ definiamo delle ulteriori operazioni.
Il \myemph{coniugato}
\index{complessi!coniugio}
di un numero complesso $z=x+iy$ è il numero
$\bar z = x - iy$. Geometricamente l'operazione di coniugio è una simmetria
rispetto alla retta reale. I numeri reali sono in effetti punti fissi del
coniugio (il coniugato di un numero reale è il numero stesso).
E' un semplice esercizio verificare che il coniugio ``attraversa''
somma e prodotto:
\[
\overline{z+w} = \bar z + \bar w, \qquad
\overline{z\cdot w} = \bar z \cdot \bar w.
\]
Ovviamente risulta $\overline {\bar z} = z$.
E' anche utile osservare che si ha:
\begin{equation}\label{eq:re_im}
  \Re z = \frac{z+\bar z}{2}, \qquad
  \Im z = \frac{z-\bar z}{2i}
\end{equation}
e
\[
z \cdot \bar z = (x+iy)(x-iy) = x^2-i^2y^2 = x^2+y^2.
\]

Possiamo allora definire il
\myemph{modulo}
\index{complessi!modulo}
 di un numero complesso $z=x+iy$
come il numero reale
\[
\abs{z} = \sqrt{z\cdot\bar z} = \sqrt{x^2+y^2}.
\]
Geometricamente tale quantità rappresenta la distanza del punto $z$
dal punto $0$ e quindi la distanza tra due numeri complessi $z$ e
$w$ si potrà rappresentare con $\abs{z-w}$.

Osserviamo che se $z = x \in \RR \subset \CC$ il modulo di $z$ coincide
con il valore assoluto: $\abs{z} = \sqrt{x^2} = \abs{x}$ e per questo
motivo non distinguiamo, nelle notazioni, il modulo dal valore assoluto.
Più in generale risulta per ogni $z\in \CC$ (la verifica è immediata):
\[
  \abs{\Re z} \le \abs{z}, \qquad
  \abs{\Im z} \le \abs{z}.
\]

Possiamo a questo punto trovare una utile formula per calcolare
il reciproco di un numero complesso. Essendo infatti
$z\cdot \bar z = \abs{z}^2$ si osserva che
\[
  \frac{1}{z}
  = \frac{\bar z}{ \bar z \cdot z}
  = \frac{\bar z}{\abs{z}^2}.
\]

\begin{theorem}
Il modulo di un numero complesso soddisfa (come il valore assoluto)
le seguenti proprietà
\begin{enumerate}
\item $\big\lvert\abs{z}\big\rvert = \abs{z}$,
\item $\abs{-z} = \abs{z}$ = $\abs{\bar z}$,
\item $\abs{z\cdot w} = \abs{z}\cdot\abs{w}$.
\item $\abs{z+w} \le \abs{z}+\abs{w}$ (convessità),
\item $\abs{z-w} \le \abs{z-v} + \abs{v-w}$ (disuguaglianza triangolare),
\end{enumerate}
\end{theorem}
%
\begin{proof}
La prima proprietà è ovvia in quanto il valore assoluto di un numero reale
non negativo è il numero stesso.

La seconda proprietà viene immediatamente dalla definizione.

Per la terza proprietà sia $z=x+iy$, $w=a+ib$.
Allora:
\begin{align*}
\abs{z\cdot w}
&= \abs{(x+iy)\cdot(a+ib)}
=\abs{xa - y b+ i(xb + ay)} \\
&= \sqrt{(xa-yb)^2 + (xb+ay)^2}\\
&=\sqrt{x^2 a^2 + y^2b^2 - 2xayb + x^2b^2+a^2y^2+2xbay} \\
&=\sqrt{x^2 a^2 + y^2 b^2 + x^2 b^2 + a^2 y^2}\\
&=\sqrt{x^2(a^2+b^2) + y^2(a^2+b^2)}\\
&=\sqrt{(x^2+y^2)(a^2+b^2)}
=\abs{x+iy} \cdot \abs{a+ib}\\
&=\abs{z}\cdot\abs{w}.
\end{align*}

Per la quarta disuguaglianza osserviamo che si ha
\[
  \abs{z+w}^2 = (z+w)\cdot(\bar z + \bar w)
  = \abs{z}^2 + \abs{w}^2 + z\cdot \bar w + \bar z \cdot w
\]
e visto che
\[
  z\cdot \bar w + \bar z \cdot w
  = z \cdot \bar w + \overline{z \cdot w}
  = 2 \Re(z\bar w)
  \le 2 \abs {z\bar w}
  = 2 \abs{z}\cdot\abs{\bar w}
  = 2 \abs{z}\cdot\abs{w}
\]
otteniamo
\[
 \abs{z+w}^2 \le \abs{z}^2+\abs{w}^2 + 2 \abs{z}\cdot\abs{w}
 =\enclose{\abs z + \abs w}^2
\]
che è equivalente alla disuguaglianza di convessità.

La disuguaglianza triangolare è conseguenza immediata della convessità, infatti
\[
  \abs{z-w} = \abs{(z-v) + (v-w)}
  \le \abs{z-v} + \abs{v-w}.
\]
\end{proof}

Anche lo spazio dei numeri complessi può essere esteso aggiungendoci
un punto all'\myemph{infinito}.
A differenza dei reali, su cui era presente un ordinamento che era utile conservare,
nel caso dei numeri complessi è più usuale utilizzare un unico punto infinito
che si denota con \myemph{$\infty$}.
Definiamo lo spazio dei complessi estesi $\bar \CC$ come
\[
\bar \CC = \CC \cup \{\infty\}.
\]
Definiamo
\begin{align*}
  z + \infty &= \infty \qquad \forall z \in \bar\CC\\
  z - \infty &= \infty \qquad \forall z \in \bar\CC\\
   z\cdot \infty &= \infty \qquad \forall z \in \bar\CC\setminus\{0\} \\
   z / \infty &= 0 \qquad \forall z \in \CC \\
   z / 0 &= \infty \qquad \forall z \in \bar \CC \setminus\{0\}\\
   \abs{\infty} &= +\infty \in \bar \RR.
\end{align*}
Si noti che abbiamo definito la divisione per zero di numeri complessi
(e quindi anche reali) diversi da zero. Il risultato è $\infty$ e quindi
rimane confermato che la divisione per zero non è una operazione valida
se vogliamo un risultato finito.
Una quantità $z\in \bar \CC$ sarà detta \emph{finita} se $z\in \CC$.



%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%
